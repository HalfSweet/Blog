(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{324:function(a,e,s){a.exports=s.p+"assets/img/Screenshots1.19e77149.png"},325:function(a,e,s){a.exports=s.p+"assets/img/Screenshots2.774d8684.png"},326:function(a,e,s){a.exports=s.p+"assets/img/Screenshots3.a1063f0c.png"},365:function(a,e,s){"use strict";s.r(e);var t=s(4),n=Object(t.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("p",[a._v("最近闲的没事，找了些好玩的深度学习方面的项目跑跑，但是这些项目一般采用Python进行搭建，为了不让本机的Python环境变乱，我们一般使用conda进行管理。但是，conda的环境目录默认保存在"),e("code",[a._v("%USERNAME%/.conda")]),a._v("目录下，随着使用的环境和包增多，占用了大量的C盘空间。那我们怎么才能在不重新配置的情况下将这些环境迁移到别的盘符呢。\n")]),a._v(" "),e("h2",{attrs:{id:"查看默认的虚拟环境配置目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看默认的虚拟环境配置目录"}},[a._v("#")]),a._v(" 查看默认的虚拟环境配置目录")]),a._v(" "),e("p",[a._v("我们在命令行中输入")]),a._v(" "),e("div",{staticClass:"language-cmd line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("conda info\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("查看到默认的虚拟环境和包的存放路径均在"),e("code",[a._v("%USERNAME%/.conda")]),a._v("目录下。\n"),e("img",{attrs:{src:s(324),alt:""}})]),a._v(" "),e("h2",{attrs:{id:"新建虚拟环境和包的目录配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#新建虚拟环境和包的目录配置"}},[a._v("#")]),a._v(" 新建虚拟环境和包的目录配置")]),a._v(" "),e("div",{staticClass:"language-cmd line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("conda config --add envs_dirs new_dirs_name\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("div",{staticClass:"language-cmd line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("conda config --add pkgs_dirs new_pkgs_name\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("这里我们新建在"),e("code",[a._v("D:\\conda\\")]),a._v("目录下。")]),a._v(" "),e("p",[a._v("重新执行"),e("code",[a._v("conda info")]),a._v("命令，发现出现了一个用户配置文件，默认存放在"),e("code",[a._v("%USERNAME%")]),a._v("目录下，同时虚拟环境和包已经默认切换到了"),e("code",[a._v("D:\\conda\\")]),a._v("目录下。")]),a._v(" "),e("p",[e("img",{attrs:{src:s(325),alt:""}})]),a._v(" "),e("h2",{attrs:{id:"尝试创建新的环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#尝试创建新的环境"}},[a._v("#")]),a._v(" 尝试创建新的环境")]),a._v(" "),e("div",{staticClass:"language-cmd line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("conda create -n test\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("等待执行成功之后")]),a._v(" "),e("div",{staticClass:"language-cmd line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("conda info -e\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:s(326),alt:""}}),a._v("\n发现新建的环境已经切换到了"),e("code",[a._v("D:\\conda\\")]),a._v("目录下。")]),a._v(" "),e("h2",{attrs:{id:"迁移之前的环境-以下方式任选其一"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#迁移之前的环境-以下方式任选其一"}},[a._v("#")]),a._v(" 迁移之前的环境（以下方式任选其一）")]),a._v(" "),e("h3",{attrs:{id:"直接使用create的clone参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#直接使用create的clone参数"}},[a._v("#")]),a._v(" 直接使用create的clone参数")]),a._v(" "),e("p",[a._v("直接进行克隆，我们采用之前的"),e("code",[a._v("novelAI")]),a._v("环境进行示例")]),a._v(" "),e("div",{staticClass:"language-cmd line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("conda create -p  D:\\conda\\envs\\novelAI\\ --clone  C:\\Users\\HalfSweet\\.conda\\envs\\novelAI\\\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("注意，，接"),e("code",[a._v("-p")]),a._v("参数的是新的环境，也就是我们之前添加的那个；而"),e("code",[a._v("--clone")]),a._v("参数后方的则是原环境。")]),a._v(" "),e("p",[a._v("等待命令执行完毕后，我们通过")]),a._v(" "),e("div",{staticClass:"language-cmd line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("conda info -e\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("命令查看，发现有两个同名的环境，通过")]),a._v(" "),e("div",{staticClass:"language-cmd line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("conda remove -p C:\\Users\\HalfSweet\\.conda\\envs\\novelAI\\ --all\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("命令删除之前原目录的环境即可完成迁移。")]),a._v(" "),e("h3",{attrs:{id:"使用conda-pack"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用conda-pack"}},[a._v("#")]),a._v(" 使用conda pack")]),a._v(" "),e("h4",{attrs:{id:"_0x01-安装conda-pack"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0x01-安装conda-pack"}},[a._v("#")]),a._v(" 0x01 安装conda pack")]),a._v(" "),e("div",{staticClass:"language-cmd line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("conda install conda-pack\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h4",{attrs:{id:"_0x02-将原环境进行打包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0x02-将原环境进行打包"}},[a._v("#")]),a._v(" 0x02 将原环境进行打包")]),a._v(" "),e("div",{staticClass:"language-cmd line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("conda pack -n envs_name\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("这里的envs_name替换为你想要迁移的环境的名称。打包完成后，将会在原目录下生成一个"),e("code",[a._v("envs_name.tar.gz")]),a._v("的文件。")]),a._v(" "),e("h4",{attrs:{id:"_0x03-更新新环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0x03-更新新环境"}},[a._v("#")]),a._v(" 0x03 更新新环境")]),a._v(" "),e("p",[a._v("将生成的"),e("code",[a._v("envs_name.tar.gz")]),a._v("文件移动到新的环境目录下，解压成文件夹即可。使用"),e("code",[a._v("conda info -e")]),a._v("命令查看，发现已经出现了这个环境。")]),a._v(" "),e("h4",{attrs:{id:"_0x04-删除原环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0x04-删除原环境"}},[a._v("#")]),a._v(" 0x04 删除原环境")]),a._v(" "),e("div",{staticClass:"language-cmd line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("conda remove -p 原环境的目录 --all\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])])}),[],!1,null,null,null);e.default=n.exports}}]);