function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/prod-BwnsjH-l.js","assets/app-Flo2gZk8.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{_ as p}from"./app-Flo2gZk8.js";import{X as D,D as o,a3 as b,w as C,T as N,i as m,j as E,s as O,l as g,V as B,h as k,q as d}from"./vidstack-BeyDmEgV-DK6K5w61.js";const x=Symbol(0),F=Symbol(0),R=Symbol(0),P=Symbol(0),V=Symbol(0),$=Symbol(0),I=Symbol(0),h={Db:x,ma:F,Eb:R,Z:P,hb:V,_:$,Mf:I};var y,v,_;class Z extends D{constructor(t){super(),this.id="",this.label="",this.language="",this.default=!1,this.Z=!1,this.ua=0,this.U="disabled",this.Nf={},this.$c=[],this.B=[],this.Fb=[],this[_]=0,this[v]=null,this[y]=null;for(const e of Object.keys(t))this[e]=t[e];this.type||(this.type="vtt"),t.content?this._h(t):t.src||(this[h.ma]=2)}static createId(t){return`vds-${t.type}-${t.kind}-${t.src??t.label??"?"}`}get metadata(){return this.Nf}get regions(){return this.$c}get cues(){return this.B}get activeCues(){return this.Fb}get readyState(){return this[h.ma]}get mode(){return this.U}set mode(t){this.setMode(t)}addCue(t,e){var a;let s=0,n=this.B.length;for(s=0;s<n&&!(t.endTime<=this.B[s].startTime);s++);s===n?this.B.push(t):this.B.splice(s,0,t),t instanceof TextTrackCue||(a=this[h._])==null||a.track.addCue(t),this.dispatchEvent(new o("add-cue",{detail:t,trigger:e})),b(t,this.ua)&&this[h.Eb](this.ua,e)}removeCue(t,e){var n;const s=this.B.indexOf(t);if(s>=0){const a=this.Fb.includes(t);this.B.splice(s,1),(n=this[h._])==null||n.track.removeCue(t),this.dispatchEvent(new o("remove-cue",{detail:t,trigger:e})),a&&this[h.Eb](this.ua,e)}}setMode(t,e){var s;this.U!==t&&(this.U=t,t==="disabled"?(this.Fb=[],this.Of()):this.readyState===2?this[h.Eb](this.ua,e):this.Pf(),this.dispatchEvent(new o("mode-change",{detail:this,trigger:e})),(s=this[h.hb])==null||s.call(this))}[(_=h.ma,v=h.hb,y=h._,h.Eb)](t,e){if(this.ua=t,this.mode==="disabled"||!this.B.length)return;const s=[];for(let a=0,r=this.B.length;a<r;a++){const c=this.B[a];b(c,t)&&s.push(c)}let n=s.length!==this.Fb.length;if(!n){for(let a=0;a<s.length;a++)if(!this.Fb.includes(s[a])){n=!0;break}}this.Fb=s,n&&this.Of(e)}[h.Z](){this.Z=!0,this.U!=="disabled"&&this.Pf()}_h(t){p(()=>import("./prod-BwnsjH-l.js").then(e=>e.d),__vite__mapDeps([0,1])).then(({parseText:e,VTTCue:s,VTTRegion:n})=>{!C(t.content)||t.type==="json"?(this.Qf(t.content,s,n),this.readyState!==3&&this.Ga()):e(t.content,{type:t.type}).then(({cues:a,regions:r})=>{this.B=a,this.$c=r,this.Ga()})})}async Pf(){var t,e;if(!(!this.Z||this[h.ma]>0)){if(this[h.ma]=1,this.dispatchEvent(new o("load-start")),!this.src){this.Ga();return}try{const{parseResponse:s,VTTCue:n,VTTRegion:a}=await p(()=>import("./prod-BwnsjH-l.js").then(l=>l.d),__vite__mapDeps([0,1])),r=(t=this[h.Db])==null?void 0:t.call(this),c=fetch(this.src,{headers:this.type==="json"?{"Content-Type":"application/json"}:void 0,credentials:N(r)});if(this.type==="json")this.Qf(await(await c).text(),n,a);else{const{errors:l,metadata:S,regions:w,cues:A}=await s(c,{type:this.type,encoding:this.encoding});if(((e=l[0])==null?void 0:e.code)===0)throw l[0];this.Nf=S,this.$c=w,this.B=A}this.Ga()}catch(s){this.Rf(s)}}}Ga(){if(this[h.ma]=2,!this.src||this.type!=="vtt"){const e=this[h._];if(e&&!e.managed)for(const s of this.B)e.track.addCue(s)}const t=new o("load");this[h.Eb](this.ua,t),this.dispatchEvent(t)}Rf(t){this[h.ma]=3,this.dispatchEvent(new o("error",{detail:t}))}Qf(t,e,s){try{const{regions:n,cues:a}=M(t,e,s);this.$c=n,this.B=a}catch(n){this.Rf(n)}}Of(t){this.dispatchEvent(new o("cue-change",{trigger:t}))}}const G=/captions|subtitles/;function q(i){return G.test(i.kind)}function M(i,t,e){const s=C(i)?JSON.parse(i):i;let n=[],a=[];return s.regions&&e&&(n=s.regions.map(r=>Object.assign(new e,r))),(s.cues||m(s))&&(a=(m(s)?s:s.cues).filter(r=>E(r.startTime)&&E(r.endTime)).map(r=>Object.assign(new t(0,0,""),r))),{regions:n,cues:a}}function K(i){return i instanceof Error?i:Error(typeof i=="string"?i:JSON.stringify(i))}function L(i,t){if(!i)throw Error("Assertion failed.")}function J(i,t=2){return Number(i.toFixed(t))}function Q(i){var t;return((t=String(i).split(".")[1])==null?void 0:t.length)??0}function H(i,t,e){return Math.max(i,Math.min(e,t))}let u=O(!1);g(document,"pointerdown",()=>{u.set(!1)}),g(document,"keydown",i=>{i.metaKey||i.altKey||i.ctrlKey||u.set(!0)});class X extends B{constructor(){super(...arguments),this.Dc=O(!1)}onConnect(t){k(()=>{if(!u()){this.Dc.set(!1),f(t,!1),this.listen("pointerenter",this.Oe.bind(this)),this.listen("pointerleave",this.Pe.bind(this));return}const e=document.activeElement===t;this.Dc.set(e),f(t,e),this.listen("focus",this.Ec.bind(this)),this.listen("blur",this.qk.bind(this))})}focused(){return this.Dc()}Ec(){this.Dc.set(!0),f(this.el,!0)}qk(){this.Dc.set(!1),f(this.el,!1)}Oe(){T(this.el,!0)}Pe(){T(this.el,!1)}}function f(i,t){d(i,"data-focus",t),d(i,"data-hocus",t)}function T(i,t){d(i,"data-hocus",t),d(i,"data-hover",t)}export{u as $,X as F,h as T,Z as a,H as b,K as c,L as d,Q as g,q as i,J as r};
