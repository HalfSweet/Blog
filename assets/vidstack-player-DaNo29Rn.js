function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/vidstack-audio-DmH6IKlO.js","assets/vidstack-BeyDmEgV-DK6K5w61.js","assets/vidstack-DuY_sHvx-DBb4Bvtu.js","assets/vidstack-C-clE4br-xJyL0UOa.js","assets/vidstack-D6_zYTXL-OYeDKsnR.js","assets/app-Flo2gZk8.js","assets/vidstack-video-B8Q8jY8c.js","assets/vidstack-hls-BCRrBv1g.js","assets/vidstack-dash-BzMOXbQO.js","assets/vidstack-vimeo-AG9a8fBX.js","assets/vidstack-DBsjVADd-THjRDuSl.js","assets/vidstack-krOAtKMi-C3UUF7YD.js","assets/vidstack-youtube-Dh71ItC-.js","assets/vidstack-Zc3I7oOd-CA6XwpqT.js","assets/vidstack-CMYUT9x7-7uKR5yes.js","assets/vidstack-BmG4eXX--DDObzXvb.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{i as R,a as ut,f as O,V as Pt,s as x,c as Yt,l as w,o as L,p as d,S as Jt,I as Zt,b as te,d as $t,e as ke,g as Et,h as u,D as $,j as pt,C as St,k as Te,m as we,n as _t,q as v,r as ee,u as Pe,t as $e,v as B,w as P,x as X,y as E,z as q,A as se,B as N,E as ie,F as z,G as ae,H as Ee,J as Se,K as ve,L as qe,M as Gt,N as Ce,O as Le,P as Ae,Q as rt,R as xe,T as ot,U as Ie,W as Ht,X as De,Y as Oe,Z as Me,_ as Re,$ as Ve,a0 as _e,a1 as re,a2 as ne}from"./vidstack-BeyDmEgV-DK6K5w61.js";import{_ as I}from"./app-Flo2gZk8.js";import{i as C,T as S,F as Ge,a as Y,c as ht,b as He}from"./vidstack-D6_zYTXL-OYeDKsnR.js";class U{get length(){return this.ta.length}constructor(t,e){R(t)?this.ta=t:!ut(t)&&!ut(e)?this.ta=[[t,e]]:this.ta=[]}start(t){return this.ta[t][0]??1/0}end(t){return this.ta[t][1]??1/0}}function Ft(n){if(!n.length)return null;let t=n.start(0);for(let e=1;e<n.length;e++){const s=n.start(e);s<t&&(t=s)}return t}function F(n){if(!n.length)return null;let t=n.end(0);for(let e=1;e<n.length;e++){const s=n.end(e);s>t&&(t=s)}return t}function Fe(n){if(n.length<=1)return n;n.sort((s,i)=>s[0]-i[0]);let t=[],e=n[0];for(let s=1;s<n.length;s++){const i=n[s];e[1]>=i[0]-1?e=[e[0],Math.max(e[1],i[1])]:(t.push(e),e=i)}return t.push(e),t}function je(n,t,e){let s=t[0],i=t[1];return e<s?[e,-1]:e===s?t:s===-1?(t[0]=e,t):(e>s&&(t[1]=e,i===-1&&n.push(t)),Fe(n),t)}const Ne=Symbol(0),We=Symbol(0),Qe=Symbol(0),Ke=Symbol(0),Ue=Symbol(0),Be=Symbol(0),Xe=Symbol(0),ze=Symbol(0),Ye=Symbol(0),f={da:Ne,cc:We,z:Qe,ea:Ke,Yc:Ue,Od:Be,Gf:Xe,Hf:ze,If:Ye},Je=Symbol(0),Ze=Symbol(0),A={Wa:Je,Ia:Ze};var jt;class oe extends De{constructor(){super(...arguments),this.A=[],this[jt]=!1}get length(){return this.A.length}get readonly(){return this[f.Yc]}indexOf(t){return this.A.indexOf(t)}getById(t){return t===""?null:this.A.find(e=>e.id===t)??null}toArray(){return[...this.A]}[(jt=f.Yc,Symbol.iterator)](){return this.A.values()}[f.da](t,e){const s=this.A.length;""+s in this||Object.defineProperty(this,s,{get(){return this.A[s]}}),!this.A.includes(t)&&(this.A.push(t),this.dispatchEvent(new $("add",{detail:t,trigger:e})))}[f.cc](t,e){var i;const s=this.A.indexOf(t);s>=0&&((i=this[f.Hf])==null||i.call(this,t,e),this.A.splice(s,1),this.dispatchEvent(new $("remove",{detail:t,trigger:e})))}[f.z](t){var e;for(const s of[...this.A])this[f.cc](s,t);this.A=[],this[f.Od](!1,t),(e=this[f.Gf])==null||e.call(this)}[f.Od](t,e){this[f.Yc]!==t&&(this[f.Yc]=t,this.dispatchEvent(new $("readonly-change",{detail:t,trigger:e})))}}const ft=O.fullscreenEnabled;class ts extends Pt{constructor(){super(...arguments),this.dc=!1,this.Pd=!1}get active(){return this.Pd}get supported(){return ft}onConnect(){w(O,"fullscreenchange",this.E.bind(this)),w(O,"fullscreenerror",this.Q.bind(this)),L(this.Fa.bind(this))}async Fa(){ft&&await this.exit()}E(t){const e=ct(this.el);e!==this.Pd&&(e||(this.dc=!1),this.Pd=e,this.dispatch("fullscreen-change",{detail:e,trigger:t}))}Q(t){this.dc&&(this.dispatch("fullscreen-error",{detail:null,trigger:t}),this.dc=!1)}async enter(){try{return this.dc=!0,!this.el||ct(this.el)?void 0:(Nt(),O.requestFullscreen(this.el))}catch(t){throw this.dc=!1,t}}async exit(){if(!(!this.el||!ct(this.el)))return Nt(),O.exitFullscreen()}}function ct(n){if(O.fullscreenElement===n)return!0;try{return n.matches(O.fullscreenPseudoClass)}catch{return!1}}function Nt(){if(!ft)throw Error("[vidstack] no fullscreen API")}const tt=class tt extends Pt{constructor(){super(...arguments),this.la=x(this.Jf()),this.Cb=x(!1)}get type(){return this.la()}get locked(){return this.Cb()}get portrait(){return this.la().startsWith("portrait")}get landscape(){return this.la().startsWith("landscape")}get supported(){return tt.supported}onConnect(){if(this.supported)w(screen.orientation,"change",this.Kf.bind(this));else{const t=window.matchMedia("(orientation: landscape)");t.onchange=this.Kf.bind(this),L(()=>t.onchange=null)}L(this.Fa.bind(this))}async Fa(){this.supported&&this.Cb()&&await this.unlock()}Kf(t){this.la.set(this.Jf()),this.dispatch("orientation-change",{detail:{orientation:d(this.la),lock:this._c},trigger:t})}async lock(t){d(this.Cb)||this._c===t||(this.Lf(),await screen.orientation.lock(t),this.Cb.set(!0),this._c=t)}async unlock(){d(this.Cb)&&(this.Lf(),this._c=void 0,await screen.orientation.unlock(),this.Cb.set(!1))}Lf(){if(!this.supported)throw Error("[vidstack] no orientation API")}Jf(){return this.supported?window.screen.orientation.type:window.innerWidth>=window.innerHeight?"landscape-primary":"portrait-primary"}};tt.supported=Yt();let J=tt;function mt(n){return!P(n)&&"width"in n&&"height"in n&&pt(n.width)&&pt(n.height)}const he=new Jt({artist:"",artwork:null,audioTrack:null,audioTracks:[],autoPlay:!1,autoPlayError:null,audioGain:null,buffered:new U,canLoad:!1,canLoadPoster:!1,canFullscreen:!1,canOrientScreen:Yt(),canPictureInPicture:!1,canPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,get iOSControls(){return Zt&&this.mediaType==="video"&&(!this.playsInline||!O.fullscreenEnabled&&this.fullscreen)},get nativeControls(){return this.controls||this.iOSControls},controlsVisible:!1,get controlsHidden(){return!this.controlsVisible},crossOrigin:null,ended:!1,error:null,fullscreen:!1,get loop(){return this.providedLoop||this.userPrefersLoop},logLevel:"silent",mediaType:"unknown",muted:!1,paused:!0,played:new U,playing:!1,playsInline:!1,pictureInPicture:!1,preload:"metadata",playbackRate:1,qualities:[],quality:null,autoQuality:!1,canSetQuality:!0,canSetPlaybackRate:!0,canSetVolume:!1,canSetAudioGain:!1,seekable:new U,seeking:!1,source:{src:"",type:""},sources:[],started:!1,textTracks:[],textTrack:null,get hasCaptions(){return this.textTracks.filter(C).length>0},volume:1,waiting:!1,realCurrentTime:0,get currentTime(){return this.ended?this.duration:this.clipStartTime>0?Math.max(0,Math.min(this.realCurrentTime-this.clipStartTime,this.duration)):this.realCurrentTime},providedDuration:-1,intrinsicDuration:0,get realDuration(){return this.providedDuration>0?this.providedDuration:this.intrinsicDuration},get duration(){return this.clipEndTime>0?this.clipEndTime-this.clipStartTime:Math.max(0,this.realDuration-this.clipStartTime)},get title(){return this.providedTitle||this.inferredTitle},get poster(){return this.providedPoster||this.inferredPoster},get viewType(){return this.providedViewType!=="unknown"?this.providedViewType:this.inferredViewType},get streamType(){return this.providedStreamType!=="unknown"?this.providedStreamType:this.inferredStreamType},get currentSrc(){return this.source},get bufferedStart(){const n=Ft(this.buffered)??0;return Math.max(0,n-this.clipStartTime)},get bufferedEnd(){const n=F(this.buffered)??0;return Math.min(this.duration,Math.max(0,n-this.clipStartTime))},get seekableStart(){const n=Ft(this.seekable)??0;return Math.max(0,n-this.clipStartTime)},get seekableEnd(){const n=this.canPlay?F(this.seekable)??1/0:0;return this.clipEndTime>0?Math.max(this.clipEndTime,Math.max(0,n-this.clipStartTime)):n},get seekableWindow(){return Math.max(0,this.seekableEnd-this.seekableStart)},canAirPlay:!1,canGoogleCast:!1,remotePlaybackState:"disconnected",remotePlaybackType:"none",remotePlaybackLoader:null,remotePlaybackInfo:null,get isAirPlayConnected(){return this.remotePlaybackType==="airplay"&&this.remotePlaybackState==="connected"},get isGoogleCastConnected(){return this.remotePlaybackType==="google-cast"&&this.remotePlaybackState==="connected"},pointer:"fine",orientation:"landscape",width:0,height:0,mediaWidth:0,mediaHeight:0,lastKeyboardAction:null,userBehindLiveEdge:!1,liveEdgeTolerance:10,minLiveDVRWindow:60,get canSeek(){return/unknown|on-demand|:dvr/.test(this.streamType)&&Number.isFinite(this.seekableWindow)&&(!this.live||/:dvr/.test(this.streamType)&&this.seekableWindow>=this.minLiveDVRWindow)},get live(){return this.streamType.includes("live")||!Number.isFinite(this.realDuration)},get liveEdgeStart(){return this.live&&Number.isFinite(this.seekableEnd)?Math.max(0,(this.liveSyncPosition??this.seekableEnd)-this.liveEdgeTolerance):0},get liveEdge(){return this.live&&(!this.canSeek||!this.userBehindLiveEdge&&this.currentTime>=this.liveEdgeStart)},get liveEdgeWindow(){return this.live&&Number.isFinite(this.seekableEnd)?this.seekableEnd-this.liveEdgeStart:0},autoPlaying:!1,providedTitle:"",inferredTitle:"",providedLoop:!1,userPrefersLoop:!1,providedPoster:"",inferredPoster:"",inferredViewType:"unknown",providedViewType:"unknown",providedStreamType:"unknown",inferredStreamType:"unknown",liveSyncPosition:null,savedState:null}),ce=new Set(["autoPlayError","autoPlaying","buffered","canPlay","error","paused","played","playing","seekable","seeking","waiting"]),es=new Set([...ce,"ended","inferredPoster","inferredStreamType","inferredTitle","intrinsicDuration","liveSyncPosition","realCurrentTime","savedState","started","userBehindLiveEdge"]);function Wt(n,t=!1){const e=t?ce:es;he.reset(n,s=>e.has(s)),N()}class ss{constructor(t=void 0){this.bc=t,this.G=null,this.f=null,this.Rd=-1}setTarget(t){this.G=t}getPlayer(t){var e;return this.f?this.f:((e=t??this.G)==null||e.dispatchEvent(new $("find-media-player",{detail:s=>void(this.f=s),bubbles:!0,composed:!0})),this.f)}setPlayer(t){this.f=t}startLoading(t){this.s("media-start-loading",t)}startLoadingPoster(t){this.s("media-poster-start-loading",t)}requestAirPlay(t){this.s("media-airplay-request",t)}requestGoogleCast(t){this.s("media-google-cast-request",t)}play(t){this.s("media-play-request",t)}pause(t){this.s("media-pause-request",t)}mute(t){this.s("media-mute-request",t)}unmute(t){this.s("media-unmute-request",t)}enterFullscreen(t,e){this.s("media-enter-fullscreen-request",e,t)}exitFullscreen(t,e){this.s("media-exit-fullscreen-request",e,t)}lockScreenOrientation(t,e){this.s("media-orientation-lock-request",e,t)}unlockScreenOrientation(t){this.s("media-orientation-unlock-request",t)}enterPictureInPicture(t){this.s("media-enter-pip-request",t)}exitPictureInPicture(t){this.s("media-exit-pip-request",t)}seeking(t,e){this.s("media-seeking-request",e,t)}seek(t,e){this.s("media-seek-request",e,t)}seekToLiveEdge(t){this.s("media-live-edge-request",t)}changeDuration(t,e){this.s("media-duration-change-request",e,t)}changeClipStart(t,e){this.s("media-clip-start-change-request",e,t)}changeClipEnd(t,e){this.s("media-clip-end-change-request",e,t)}changeVolume(t,e){this.s("media-volume-change-request",e,Math.max(0,Math.min(1,t)))}changeAudioTrack(t,e){this.s("media-audio-track-change-request",e,t)}changeQuality(t,e){this.s("media-quality-change-request",e,t)}requestAutoQuality(t){this.changeQuality(-1,t)}changeTextTrackMode(t,e,s){this.s("media-text-track-change-request",s,{index:t,mode:e})}changePlaybackRate(t,e){this.s("media-rate-change-request",e,t)}changeAudioGain(t,e){this.s("media-audio-gain-change-request",e,t)}resumeControls(t){this.s("media-resume-controls-request",t)}pauseControls(t){this.s("media-pause-controls-request",t)}togglePaused(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.state.paused?this.play(t):this.pause(t))}toggleControls(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.controls.showing?e.controls.hide(0,t):e.controls.show(0,t))}toggleMuted(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.state.muted?this.unmute(t):this.mute(t))}toggleFullscreen(t,e){const s=this.getPlayer(e==null?void 0:e.target);s&&(s.state.fullscreen?this.exitFullscreen(t,e):this.enterFullscreen(t,e))}togglePictureInPicture(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.state.pictureInPicture?this.exitPictureInPicture(t):this.enterPictureInPicture(t))}showCaptions(t){const e=this.getPlayer(t==null?void 0:t.target);if(!e)return;let s=e.state.textTracks,i=this.Rd;(!s[i]||!C(s[i]))&&(i=-1),i===-1&&(i=s.findIndex(a=>C(a)&&a.default)),i===-1&&(i=s.findIndex(a=>C(a))),i>=0&&this.changeTextTrackMode(i,"showing",t),this.Rd=-1}disableCaptions(t){const e=this.getPlayer(t==null?void 0:t.target);if(!e)return;const s=e.state.textTracks,i=e.state.textTrack;if(i){const a=s.indexOf(i);this.changeTextTrackMode(a,"disabled",t),this.Rd=a}}toggleCaptions(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.state.textTrack?this.disableCaptions():this.showCaptions())}userPrefersLoopChange(t,e){this.s("media-user-loop-change-request",e,t)}s(t,e,s){var o,h;const i=new $(t,{bubbles:!0,composed:!0,cancelable:!0,detail:s,trigger:e});let a=(e==null?void 0:e.target)||null;a&&a instanceof St&&(a=a.el),a=!a||a===document||a===window||a===document.body||((o=this.f)==null?void 0:o.el)&&a instanceof Node&&!this.f.el.contains(a)?this.G??((h=this.getPlayer())==null?void 0:h.el):a??this.G,this.f?t==="media-play-request"&&!this.f.state.canLoad?a==null||a.dispatchEvent(i):this.f.canPlayQueue.k(t,()=>a==null?void 0:a.dispatchEvent(i)):a==null||a.dispatchEvent(i)}Va(t){}}class is{constructor(){this.playerId="vds-player",this.mediaId=null,this.H={volume:null,muted:null,audioGain:null,time:null,lang:null,captions:null,rate:null,quality:null},this.saveTimeThrottled=ie(this.saveTime.bind(this),1e3)}async getVolume(){return this.H.volume}async setVolume(t){this.H.volume=t,this.save()}async getMuted(){return this.H.muted}async setMuted(t){this.H.muted=t,this.save()}async getTime(){return this.H.time}async setTime(t,e){const s=t<0;this.H.time=s?null:t,s||e?this.saveTime():this.saveTimeThrottled()}async getLang(){return this.H.lang}async setLang(t){this.H.lang=t,this.save()}async getCaptions(){return this.H.captions}async setCaptions(t){this.H.captions=t,this.save()}async getPlaybackRate(){return this.H.rate}async setPlaybackRate(t){this.H.rate=t,this.save()}async getAudioGain(){return this.H.audioGain}async setAudioGain(t){this.H.audioGain=t,this.save()}async getVideoQuality(){return this.H.quality}async setVideoQuality(t){this.H.quality=t,this.save()}onChange(t,e,s="vds-player"){const i=s?localStorage.getItem(s):null,a=e?localStorage.getItem(e):null;this.playerId=s,this.mediaId=e,this.H={volume:null,muted:null,audioGain:null,lang:null,captions:null,rate:null,quality:null,...i?JSON.parse(i):{},time:a?+a:null}}save(){if(!this.playerId)return;const t=JSON.stringify({...this.H,time:void 0});localStorage.setItem(this.playerId,t)}saveTime(){if(!this.mediaId)return;const t=(this.H.time??0).toString();localStorage.setItem(this.mediaId,t)}}class as{constructor(){this.priority=0,this.Uf=!0,this.m=null,this.J=null,this.va=new Set}canRender(t,e){return!!e}attach(t){this.m=t,t&&(t.textTracks.onchange=this.E.bind(this))}addTrack(t){this.va.add(t),this.ci(t)}removeTrack(t){var e,s;(s=(e=t[S._])==null?void 0:e.remove)==null||s.call(e),t[S._]=null,this.va.delete(t)}changeTrack(t){const e=t==null?void 0:t[S._];e&&e.track.mode!=="showing"&&(e.track.mode="showing"),this.J=t}setDisplay(t){this.Uf=t,this.E()}detach(){this.m&&(this.m.textTracks.onchange=null);for(const t of this.va)this.removeTrack(t);this.va.clear(),this.m=null,this.J=null}ci(t){var s;if(!this.m)return;const e=t[s=S._]??(t[s]=this.di(t));Oe(e)&&(this.m.append(e),e.track.mode=e.default?"showing":"disabled")}di(t){const e=document.createElement("track"),s=t.default||t.mode==="showing",i=t.src&&t.type==="vtt";return e.id=t.id,e.src=i?t.src:"",e.label=t.label,e.kind=t.kind,e.default=s,t.language&&(e.srclang=t.language),s&&!i&&this.Vf(t,e.track),e}Vf(t,e){var s;if(!(t.src&&t.type==="vtt"||(s=e.cues)!=null&&s.length))for(const i of t.cues)e.addCue(i)}E(t){for(const e of this.va){const s=e[S._];if(!s)continue;if(!this.Uf){s.track.mode=s.managed?"hidden":"disabled";continue}const i=s.track.mode==="showing";i&&this.Vf(e,s.track),e.setMode(i?"showing":"disabled",t)}}}class rs{constructor(t){this.a=t,this.m=null,this.bd=[],this.Wf=!1,this.wa=null,this.jb=null;const e=t.textTracks;this.Wd=e,u(this.Xd.bind(this)),L(this.ei.bind(this)),w(e,"add",this.Yd.bind(this)),w(e,"remove",this.fi.bind(this)),w(e,"mode-change",this.Ha.bind(this))}Xd(){const{nativeControls:t}=this.a.$state;this.Wf=t(),this.Ha()}add(t){this.bd.push(t),z(this.Ha.bind(this))}remove(t){t.detach(),this.bd.splice(this.bd.indexOf(t),1),z(this.Ha.bind(this))}Xf(t){requestAnimationFrame(()=>{if(this.m=t,t){this.wa=new as,this.wa.attach(t);for(const e of this.Wd)this.Yf(e)}this.Ha()})}Yf(t){var e;C(t)&&((e=this.wa)==null||e.addTrack(t))}gi(t){var e;C(t)&&((e=this.wa)==null||e.removeTrack(t))}Yd(t){this.Yf(t.detail)}fi(t){this.gi(t.detail)}Ha(){var s,i,a,r,o,h,c;const t=this.Wd.selected;if(this.m&&(this.Wf||t!=null&&t[S.Mf])){(s=this.jb)==null||s.changeTrack(null),(i=this.wa)==null||i.setDisplay(!0),(a=this.wa)==null||a.changeTrack(t);return}if((r=this.wa)==null||r.setDisplay(!1),(o=this.wa)==null||o.changeTrack(null),!t){(h=this.jb)==null||h.changeTrack(null);return}const e=this.bd.sort((l,p)=>l.priority-p.priority).find(l=>l.canRender(t,this.m));this.jb!==e&&((c=this.jb)==null||c.detach(),e==null||e.attach(this.m),this.jb=e??null),e==null||e.changeTrack(t)}ei(){var t,e;(t=this.wa)==null||t.detach(),this.wa=null,(e=this.jb)==null||e.detach(),this.jb=null}}class ns extends oe{constructor(){super(),this.Z=!1,this.kb={},this.lb=null,this.mb=null,this.bg=ae(async()=>{var s;if(!this.Z)return;!this.mb&&this.lb&&(this.mb=await this.lb.getLang());const t=await((s=this.lb)==null?void 0:s.getCaptions()),e=[["captions","subtitles"],"chapters","descriptions","metadata"];for(const i of e){const a=this.getByKind(i);if(a.find(l=>l.mode==="showing"))continue;const r=this.mb?a.find(l=>l.language===this.mb):null,o=R(i)?this.kb[i.find(l=>this.kb[l])||""]:this.kb[i],h=r??o,c=h&&C(h);h&&(!c||t!==!1)&&(h.mode="showing",c&&this.cg(h))}},300),this.Zd=null,this.ag=this.hi.bind(this)}get selected(){return this.A.find(e=>e.mode==="showing"&&C(e))??null}get selectedIndex(){const t=this.selected;return t?this.indexOf(t):-1}get preferredLang(){return this.mb}set preferredLang(t){this.mb=t,this.$f(t)}add(t,e){const s=t instanceof Y,i=s?t:new Y(t),a=t.kind==="captions"||t.kind==="subtitles"?"captions":t.kind;return this.kb[a]&&t.default&&delete t.default,i.addEventListener("mode-change",this.ag),this[f.da](i,e),i[S.Db]=this[S.Db],this.Z&&i[S.Z](),t.default&&(this.kb[a]=i),this.bg(),this}remove(t,e){if(this.Zd=t,!!this.A.includes(t))return t===this.kb[t.kind]&&delete this.kb[t.kind],t.mode="disabled",t[S.hb]=null,t.removeEventListener("mode-change",this.ag),this[f.cc](t,e),this.Zd=null,this}clear(t){for(const e of[...this.A])this.remove(e,t);return this}getByKind(t){const e=Array.isArray(t)?t:[t];return this.A.filter(s=>e.includes(s.kind))}[S.Z](){if(!this.Z){for(const t of this.A)t[S.Z]();this.Z=!0,this.bg()}}hi(t){const e=t.detail;if(this.lb&&C(e)&&e!==this.Zd&&this.cg(e),e.mode==="showing"){const s=C(e)?["captions","subtitles"]:[e.kind];for(const i of this.A)i.mode==="showing"&&i!=e&&s.includes(i.kind)&&(i.mode="disabled")}this.dispatchEvent(new $("mode-change",{detail:t.detail,trigger:t}))}cg(t){var e,s;t.mode!=="disabled"&&this.$f(t.language),(s=(e=this.lb)==null?void 0:e.setCaptions)==null||s.call(e,t.mode==="showing")}$f(t){var e,s;(s=(e=this.lb)==null?void 0:e.setLang)==null||s.call(e,this.mb=t)}setStorage(t){this.lb=t}}const H=Symbol(0);class le extends oe{get selected(){return this.A.find(t=>t.selected)??null}get selectedIndex(){return this.A.findIndex(t=>t.selected)}[f.Hf](t,e){this[f.ea](t,!1,e)}[f.da](t,e){t[H]=!1,Object.defineProperty(t,"selected",{get(){return this[H]},set:s=>{var i;this.readonly||((i=this[f.If])==null||i.call(this),this[f.ea](t,s))}}),super[f.da](t,e)}[f.ea](t,e,s){if(e===(t==null?void 0:t[H]))return;const i=this.selected;t&&(t[H]=e),(e?i!==t:i===t)&&(i&&(i[H]=!1),this.dispatchEvent(new $("change",{detail:{prev:i,current:this.selected},trigger:s})))}}class os extends le{}class hs extends le{constructor(){super(...arguments),this.cd=!1,this.switch="current"}get auto(){return this.cd||this.readonly}[f.If](){this[A.Wa](!1)}[f.Gf](t){this[A.Ia]=void 0,this[A.Wa](!1,t)}autoSelect(t){var e;this.readonly||this.cd||!this[A.Ia]||((e=this[A.Ia])==null||e.call(this,t),this[A.Wa](!0,t))}getBySrc(t){return this.A.find(e=>e.src===t)}[A.Wa](t,e){this.cd!==t&&(this.cd=t,this.dispatchEvent(new $("auto-change",{detail:t,trigger:e})))}}function cs(n){return n instanceof HTMLAudioElement}function ls(n){return n instanceof HTMLVideoElement}function ds(n){return cs(n)||ls(n)}class V extends Pt{}const us={togglePaused:"k Space",toggleMuted:"m",toggleFullscreen:"f",togglePictureInPicture:"i",toggleCaptions:"c",seekBackward:"j J ArrowLeft",seekForward:"l L ArrowRight",volumeUp:"ArrowUp",volumeDown:"ArrowDown",speedUp:">",slowDown:"<"},K=new Set(["Shift","Alt","Meta","Ctrl"]),ps='button, [role="button"]',Qt='input, textarea, select, [contenteditable], [role^="menuitem"], [role="timer"]';class fs extends V{constructor(t){super(),this.a=t,this.Ib=null}onConnect(){u(this.ii.bind(this))}ii(){const{keyDisabled:t,keyTarget:e}=this.$props;if(t())return;const s=e()==="player"?this.el:document,i=x(!1);s===this.el?(this.listen("focusin",()=>i.set(!0)),this.listen("focusout",a=>{this.el.contains(a.target)||i.set(!1)})):(d(i)||i.set(document.querySelector("[data-media-player]")===this.el),w(document,"focusin",a=>{const r=a.composedPath().find(o=>o instanceof Element&&o.localName==="media-player");r!==void 0&&i.set(this.el===r)})),u(()=>{i()&&(w(s,"keyup",this.hc.bind(this)),w(s,"keydown",this.ic.bind(this)),w(s,"keydown",this.ji.bind(this),{capture:!0}))})}hc(t){var a,r;const e=document.activeElement;if(!t.key||!this.$state.canSeek()||e!=null&&e.matches(Qt))return;let{method:s,value:i}=this._d(t);if(!P(i)&&!R(i)){(a=i==null?void 0:i.onKeyUp)==null||a.call(i,{event:t,player:this.a.player,remote:this.a.remote}),(r=i==null?void 0:i.callback)==null||r.call(i,t,this.a.remote);return}if(s!=null&&s.startsWith("seek")&&(t.preventDefault(),t.stopPropagation(),this.Ib?(this.dg(t,s==="seekForward"),this.Ib=null):(this.a.remote.seek(this.dd,t),this.dd=void 0)),s!=null&&s.startsWith("volume")){const o=this.el.querySelector("[data-media-volume-slider]");o==null||o.dispatchEvent(new KeyboardEvent("keyup",{key:s==="volumeUp"?"Up":"Down",shiftKey:t.shiftKey,trigger:t}))}}ic(t){var r,o,h,c;if(!t.key||K.has(t.key))return;const e=document.activeElement;if(e!=null&&e.matches(Qt)||Ee(t)&&(e!=null&&e.matches(ps)))return;let{method:s,value:i}=this._d(t),a=!t.metaKey&&/^[0-9]$/.test(t.key);if(!P(i)&&!R(i)&&!a){(r=i==null?void 0:i.onKeyDown)==null||r.call(i,{event:t,player:this.a.player,remote:this.a.remote}),(o=i==null?void 0:i.callback)==null||o.call(i,t,this.a.remote);return}if(!s&&a){t.preventDefault(),t.stopPropagation(),this.a.remote.seek(this.$state.duration()/10*Number(t.key),t);return}if(s){switch(t.preventDefault(),t.stopPropagation(),s){case"seekForward":case"seekBackward":this.Ja(t,s,s==="seekForward");break;case"volumeUp":case"volumeDown":const l=this.el.querySelector("[data-media-volume-slider]");if(l)l.dispatchEvent(new KeyboardEvent("keydown",{key:s==="volumeUp"?"Up":"Down",shiftKey:t.shiftKey,trigger:t}));else{const g=t.shiftKey?.1:.05;this.a.remote.changeVolume(this.$state.volume()+(s==="volumeUp"?+g:-g),t)}break;case"toggleFullscreen":this.a.remote.toggleFullscreen("prefer-media",t);break;case"speedUp":case"slowDown":const p=this.$state.playbackRate();this.a.remote.changePlaybackRate(Math.max(.25,Math.min(2,p+(s==="speedUp"?.25:-.25))),t);break;default:(c=(h=this.a.remote)[s])==null||c.call(h,t)}this.$state.lastKeyboardAction.set({action:s,event:t})}}ji(t){ds(t.target)&&this._d(t).method&&t.preventDefault()}_d(t){const e={...this.$props.keyShortcuts(),...this.a.ariaKeys},s=Object.keys(e).find(i=>{var h;const a=e[i],r=R(a)?a.join(" "):P(a)?a:a==null?void 0:a.keys,o=(h=R(r)?r:r==null?void 0:r.split(" "))==null?void 0:h.map(c=>ys(c).replace(/Control/g,"Ctrl").split("+"));return o==null?void 0:o.some(c=>{const l=new Set(c.filter(p=>K.has(p)));for(const p of K){const g=p.toLowerCase()+"Key";if(!l.has(p)&&t[g])return!1}return c.every(p=>K.has(p)?t[p.toLowerCase()+"Key"]:t.key===p.replace("Space"," "))})});return{method:s,value:s?e[s]:null}}ki(t,e){const s=t.shiftKey?10:5;return this.dd=Math.max(0,Math.min((this.dd??this.$state.currentTime())+(e==="seekForward"?+s:-s),this.$state.duration()))}dg(t,e){var s;(s=this.Ib)==null||s.dispatchEvent(new KeyboardEvent(t.type,{key:e?"Right":"Left",shiftKey:t.shiftKey,trigger:t}))}Ja(t,e,s){this.$state.canSeek()&&(this.Ib||(this.Ib=this.el.querySelector("[data-media-time-slider]")),this.Ib?this.dg(t,s):this.a.remote.seeking(this.ki(t,e),t))}}const ms=["!","@","#","$","%","^","&","*","(",")"];function ys(n){return n.replace(/Shift\+(\d)/g,(t,e)=>ms[e-1])}class gs extends V{constructor(){super(...arguments),this.Sd=-2,this.Gb=!1,this.Sf=x(!1),this.Td=x(!1),this.ec=null,this.Ud=x(!0),this.defaultDelay=2e3}get canIdle(){return this.Ud()}set canIdle(t){this.Ud.set(t)}get hideOnMouseLeave(){const{hideControlsOnMouseLeave:t}=this.$props;return this.Sf()||t()}set hideOnMouseLeave(t){this.Sf.set(t)}get showing(){return this.$state.controlsVisible()}show(t=0,e){this.Vd(),this.Gb||this.ad(!0,t,e)}hide(t=this.defaultDelay,e){this.Vd(),this.Gb||this.ad(!1,t,e)}pause(t){this.Gb=!0,this.Vd(),this.ad(!0,0,t)}resume(t){this.Gb=!1,!this.$state.paused()&&this.ad(!1,this.defaultDelay,t)}onConnect(){u(this.Hb.bind(this))}Hb(){const{viewType:t}=this.$state;if(!this.Ud())return;if(t()==="audio"){this.show();return}u(this.$h.bind(this)),u(this.fc.bind(this));const e=this.gc.bind(this),s=this.ib.bind(this);this.listen("can-play",i=>this.show(0,i)),this.listen("play",e),this.listen("pause",s),this.listen("auto-play-fail",s)}$h(){const{started:t,pointer:e,paused:s}=this.$state;if(!t()||e()!=="fine")return;const i=this.hideOnMouseLeave;(!i||!this.Td())&&u(()=>{s()||this.listen("pointermove",this.Tf.bind(this))}),i&&(this.listen("mouseenter",this.ai.bind(this)),this.listen("mouseleave",this.bi.bind(this)))}fc(){const{paused:t,started:e,autoPlayError:s}=this.$state;if(t()||s()&&!e())return;const i=this.Tf.bind(this);u(()=>{const a=this.$state.pointer(),r=a==="coarse",o=[r?"touchend":"pointerup","keydown"];for(const h of o)this.listen(h,i,{passive:!1})})}gc(t){this.show(0,t),this.hide(void 0,t)}ib(t){this.show(0,t)}ai(t){this.Td.set(!1),this.show(0,t),this.hide(void 0,t)}bi(t){this.Td.set(!0),this.hide(0,t)}Vd(){window.clearTimeout(this.Sd),this.Sd=-1}Tf(t){var e;t.MEDIA_GESTURE||this.Gb||Me(t)||(Re(t)&&(t.key==="Escape"?((e=this.el)==null||e.focus(),this.ec=null):this.ec&&(t.preventDefault(),requestAnimationFrame(()=>{var s;(s=this.ec)==null||s.focus(),this.ec=null}))),this.show(0,t),this.hide(this.defaultDelay,t))}ad(t,e,s){if(e===0){this.E(t,s);return}this.Sd=window.setTimeout(()=>{this.scope&&this.E(t&&!this.Gb,s)},e)}E(t,e){var s;this.$state.controlsVisible()!==t&&(this.$state.controlsVisible.set(t),!t&&document.activeElement&&((s=this.el)!=null&&s.contains(document.activeElement))&&(this.ec=document.activeElement,requestAnimationFrame(()=>{var i;(i=this.el)==null||i.focus({preventScroll:!0})})),this.dispatch("controls-change",{detail:t,trigger:e}))}}class bs{constructor(){this.name="audio"}canPlay(t){return Ve(t)?!P(t.src)||t.type==="?"||_e(this.target,t.type):!1}mediaType(){return"audio"}async load(t){return new(await I(()=>import("./vidstack-audio-DmH6IKlO.js"),__vite__mapDeps([0,1,2,3,4,5]))).AudioProvider(this.target,t)}}class vt{constructor(){this.name="video"}canPlay(t){return Se(t)?!P(t.src)||t.type==="?"||ve(this.target,t.type):!1}mediaType(){return"video"}async load(t){return new(await I(()=>import("./vidstack-video-B8Q8jY8c.js"),__vite__mapDeps([6,1,2,3,4,5]))).VideoProvider(this.target,t)}}const et=class et extends vt{constructor(){super(...arguments),this.name="hls"}canPlay(t){return et.supported&&$t(t)}async load(t){return new(await I(()=>import("./vidstack-hls-BCRrBv1g.js"),__vite__mapDeps([7,1,6,2,3,4,5]))).HLSProvider(this.target,t)}};et.supported=te();let yt=et;const st=class st extends vt{constructor(){super(...arguments),this.name="dash"}canPlay(t){return st.supported&&Et(t)}async load(t){return new(await I(()=>import("./vidstack-dash-BzMOXbQO.js"),__vite__mapDeps([8,1,6,2,3,4,5]))).DASHProvider(this.target,t)}};st.supported=ke();let gt=st;class ks{constructor(){this.name="vimeo"}preconnect(){const t=["https://i.vimeocdn.com","https://f.vimeocdn.com","https://fresnel.vimeocdn.com"];for(const e of t)rt(e)}canPlay(t){return P(t.src)&&t.type==="video/vimeo"}mediaType(){return"video"}async load(t){return new(await I(()=>import("./vidstack-vimeo-AG9a8fBX.js"),__vite__mapDeps([9,1,4,5,3,10,11]))).VimeoProvider(this.target,t)}async loadPoster(t,e,s){const{resolveVimeoVideoId:i,getVimeoVideoInfo:a}=await I(()=>import("./vidstack-krOAtKMi-C3UUF7YD.js"),__vite__mapDeps([]));if(!P(t.src))return null;const{videoId:r,hash:o}=i(t.src);return r?a(r,s,o).then(h=>h?h.poster:null):null}}class Ts{constructor(){this.name="youtube"}preconnect(){const t=["https://www.google.com","https://i.ytimg.com","https://googleads.g.doubleclick.net","https://static.doubleclick.net"];for(const e of t)rt(e)}canPlay(t){return P(t.src)&&t.type==="video/youtube"}mediaType(){return"video"}async load(t){return new(await I(()=>import("./vidstack-youtube-Dh71ItC-.js"),__vite__mapDeps([12,1,10,13,5,4]))).YouTubeProvider(this.target,t)}async loadPoster(t,e,s){const{findYouTubePoster:i,resolveYouTubeVideoId:a}=await I(()=>import("./vidstack-Zc3I7oOd-CA6XwpqT.js"),__vite__mapDeps([])),r=P(t.src)&&a(t.src);return r?i(r,s):null}}const lt=Symbol(0),ws=["autoPlay","canAirPlay","canFullscreen","canGoogleCast","canLoad","canLoadPoster","canPictureInPicture","canPlay","canSeek","ended","fullscreen","isAirPlayConnected","isGoogleCastConnected","live","liveEdge","loop","mediaType","muted","paused","pictureInPicture","playing","playsInline","remotePlaybackState","remotePlaybackType","seeking","started","streamType","viewType","waiting"],Ps={artist:"",artwork:null,autoplay:!1,autoPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,currentTime:0,crossorigin:null,crossOrigin:null,duration:-1,fullscreenOrientation:"landscape",googleCast:{},load:"visible",posterLoad:"visible",logLevel:"silent",loop:!1,muted:!1,paused:!0,playsinline:!1,playsInline:!1,playbackRate:1,poster:"",preload:"metadata",preferNativeHLS:!1,src:"",title:"",controlsDelay:2e3,hideControlsOnMouseLeave:!1,viewType:"unknown",streamType:"unknown",volume:1,liveEdgeTolerance:10,minLiveDVRWindow:60,keyDisabled:!1,keyTarget:"player",keyShortcuts:us,storage:null};class Kt extends V{constructor(t,e){super(),this.la=t,this.La=e}async onAttach(t){const e=this.$props[this.la]();if(e==="eager")requestAnimationFrame(this.La);else if(e==="idle")qe(this.La);else if(e==="visible"){let s,i=new IntersectionObserver(a=>{this.scope&&a[0].isIntersecting&&(s==null||s(),s=void 0,this.La())});i.observe(t),s=L(()=>i.disconnect())}}}class $s{constructor(t,e){this.V=t,this.a=e,this.c=(s,...i)=>{this.V(new $(s,{detail:i==null?void 0:i[0],trigger:i==null?void 0:i[1]}))}}async Ga(t,e){return z(async()=>{var At,xt,It,W,Dt,Ot,Mt;this.a;const{autoPlay:s,canPlay:i,started:a,duration:r,seekable:o,buffered:h,remotePlaybackInfo:c,playsInline:l,savedState:p,source:g}=this.a.$state;if(i())return;const b={duration:(t==null?void 0:t.duration)??r(),seekable:(t==null?void 0:t.seekable)??o(),buffered:(t==null?void 0:t.buffered)??h(),provider:this.a.$provider()};this.c("can-play",b,e),N();let T=this.a.$provider(),{storage:m,qualities:M}=this.a,{muted:pe,volume:fe,clipStartTime:me,playbackRate:ye}=this.a.$props;await((At=m==null?void 0:m.onLoad)==null?void 0:At.call(m,g()));const ge=(xt=p())==null?void 0:xt.currentTime,Ct=(It=p())==null?void 0:It.paused,nt=await(m==null?void 0:m.getTime()),Lt=ge??nt??me(),be=Ct||Ct!==!1&&!a()&&s();if(T){T.setVolume(await(m==null?void 0:m.getVolume())??fe()),T.setMuted(pe()||!!await(m==null?void 0:m.getMuted()));const _=await(m==null?void 0:m.getAudioGain())??1;_>1&&((Dt=(W=T.audioGain)==null?void 0:W.setGain)==null||Dt.call(W,_)),(Ot=T.setPlaybackRate)==null||Ot.call(T,await(m==null?void 0:m.getPlaybackRate())??ye()),(Mt=T.setPlaysInline)==null||Mt.call(T,l()),Lt>0&&T.setCurrentTime(Lt)}const G=await(m==null?void 0:m.getVideoQuality());if(G&&M.length){let _=null,Rt=1/0;for(const Q of M){const Vt=Math.abs(G.width-Q.width)+Math.abs(G.height-Q.height)+(G.bitrate?Math.abs(G.bitrate-(Q.bitrate??0)):0);Vt<Rt&&(_=Q,Rt=Vt)}_&&(_.selected=!0)}i()&&be?await this.kj(e):nt&&nt>0&&this.c("started",void 0,e),c.set(null)})}async kj(t){const{player:e,$state:{autoPlaying:s,muted:i}}=this.a;s.set(!0);const a=new $("auto-play-attempt",{trigger:t});try{await e.play(a)}catch{}}}class Es{constructor(){this.i=new Map}k(t,e){this.i.set(t,e)}xe(t){const e=this.rg(t);return this.i.delete(t),e}rg(t){return this.i.get(t)}ub(t){this.i.delete(t)}Pm(){this.i.clear()}}class de{constructor(){this.wc=!1,this.ye=Gt(),this.i=new Map}get Qm(){return this.i.size}get Rm(){return this.wc}async Sm(){this.wc||await this.ye.promise}k(t,e){if(this.wc){e();return}this.i.delete(t),this.i.set(t,e)}xe(t){var e;(e=this.i.get(t))==null||e(),this.i.delete(t)}Xa(){this.sg(),this.wc=!0,this.i.size>0&&this.sg()}$(){this.wc=!1}z(){this.$(),this.i.clear(),this.tg()}sg(){for(const t of this.i.keys())this.xe(t);this.tg()}tg(){this.ye.resolve(),this.ye=Gt()}}class Ss extends V{constructor(t,e,s){super(),this.Ba=t,this.g=e,this.a=s,this.zc=new de,this.Fe=!1,this.C=s.$provider,this.yc=new gs,this.pd=new ts,this.bb=new J}onAttach(){this.listen("fullscreen-change",this.Qd.bind(this))}onConnect(){const t=Object.getOwnPropertyNames(Object.getPrototypeOf(this)),e=this.Hj.bind(this);for(const s of t)s.startsWith("media-")&&this.listen(s,e);this.Ij(),u(this.Jj.bind(this)),u(this.Kj.bind(this)),u(this.Lj.bind(this)),u(this.Mj.bind(this)),u(this.Nj.bind(this)),u(this.Oj.bind(this)),u(this.Pj.bind(this))}onDestroy(){try{const t=this.createEvent("destroy"),{pictureInPicture:e,fullscreen:s}=this.$state;s()&&this.Lg("prefer-media",t),e()&&this.Ge(t)}catch{}this.zc.z()}Ij(){const{load:t}=this.$props,{canLoad:e}=this.$state;if(t()!=="play"||e())return;const s=this.listen("media-play-request",i=>{this.Gg(i),s()})}Jj(){const t=this.C(),e=this.$state.canPlay();return t&&e&&this.zc.Xa(),()=>{this.zc.$()}}Hj(t){t.stopPropagation(),!t.defaultPrevented&&this[t.type]&&(d(this.C)?this[t.type](t):this.zc.k(t.type,()=>{d(this.C)&&this[t.type](t)}))}async Ac(t){const{canPlay:e,paused:s,autoPlaying:i}=this.$state;if(this.Gg(t)||!d(s))return;t&&this.g.i.k("media-play-request",t);const a=d(i);try{const r=d(this.C);return dt(r,d(e)),await r.play()}catch(r){const o=this.createEvent("play-fail",{detail:ht(r),trigger:t});throw o.autoPlay=a,this.Ba.V(o),r}}Gg(t){const{load:e}=this.$props,{canLoad:s}=this.$state;if(e()==="play"&&!s()){const i=this.createEvent("media-start-loading",{trigger:t});return this.dispatchEvent(i),this.zc.k("media-play-request",async()=>{try{await this.Ac(i)}catch{}}),!0}return!1}async Ee(t){const{canPlay:e,paused:s}=this.$state;if(!d(s)){t&&this.g.i.k("media-pause-request",t);try{const i=d(this.C);return dt(i,d(e)),await i.pause()}catch(i){throw this.g.i.ub("media-pause-request"),i}}}Hg(t,e){const{audioGain:s,canSetAudioGain:i}=this.$state;if(s()===t)return;const a=this.C();if(!(a!=null&&a.audioGain)||!i())throw Error("[vidstack] audio gain api not available");e&&this.g.i.k("media-audio-gain-change-request",e),a.audioGain.setGain(t)}Ig(t){const{canPlay:e,live:s,liveEdge:i,canSeek:a,liveSyncPosition:r,seekableEnd:o,userBehindLiveEdge:h}=this.$state;if(h.set(!1),d(()=>!s()||i()||!a()))return;const c=d(this.C);dt(c,d(e)),t&&this.g.i.k("media-seek-request",t);const l=o()-2;c.setCurrentTime(Math.min(l,r()??l))}async Jg(t="prefer-media",e){const s=this.Kg(t);if(Ut(t,s),!s.active)return d(this.$state.pictureInPicture)&&(this.Fe=!0,await this.Ge(e)),e&&this.g.i.k("media-enter-fullscreen-request",e),s.enter()}async Lg(t="prefer-media",e){const s=this.Kg(t);if(Ut(t,s),!!s.active){e&&this.g.i.k("media-exit-fullscreen-request",e);try{const i=await s.exit();return this.Fe&&d(this.$state.canPictureInPicture)&&await this.He(),i}finally{this.Fe=!1}}}Kg(t){const e=d(this.C);return t==="prefer-media"&&this.pd.supported||t==="media"?this.pd:e==null?void 0:e.fullscreen}async He(t){if(this.Mg(),!this.$state.pictureInPicture())return t&&this.g.i.k("media-enter-pip-request",t),await this.C().pictureInPicture.enter()}async Ge(t){if(this.Mg(),!!this.$state.pictureInPicture())return t&&this.g.i.k("media-exit-pip-request",t),await this.C().pictureInPicture.exit()}Mg(){if(!this.$state.canPictureInPicture())throw Error("[vidstack] no pip support")}Kj(){this.yc.defaultDelay=this.$props.controlsDelay()}Lj(){var s,i;const{canSetAudioGain:t}=this.$state,e=!!((i=(s=this.C())==null?void 0:s.audioGain)!=null&&i.supported);t.set(e)}Mj(){var s,i;const{canAirPlay:t}=this.$state,e=!!((i=(s=this.C())==null?void 0:s.airPlay)!=null&&i.supported);t.set(e)}Nj(){const{canGoogleCast:t,source:e}=this.$state,s=Ce&&!Le&&Ae(e());t.set(s)}Oj(){var s,i;const{canFullscreen:t}=this.$state,e=this.pd.supported||!!((i=(s=this.C())==null?void 0:s.fullscreen)!=null&&i.supported);t.set(e)}Pj(){var s,i;const{canPictureInPicture:t}=this.$state,e=!!((i=(s=this.C())==null?void 0:s.pictureInPicture)!=null&&i.supported);t.set(e)}async"media-airplay-request"(t){try{await this.Ng(t)}catch{}}async Ng(t){var e;try{const s=(e=this.C())==null?void 0:e.airPlay;if(!(s!=null&&s.supported))throw Error("No AirPlay adapter.");return t&&this.g.i.k("media-airplay-request",t),await s.prompt()}catch(s){throw this.g.i.ub("media-airplay-request"),s}}async"media-google-cast-request"(t){try{await this.Og(t)}catch{}}async Og(t){try{const{canGoogleCast:e}=this.$state;if(!d(e)){const i=Error("Cast not available.");throw i.code="CAST_NOT_AVAILABLE",i}if(rt("https://www.gstatic.com"),!this.qd){const i=await I(()=>import("./vidstack-CMYUT9x7-7uKR5yes.js").then(a=>a.v),__vite__mapDeps([14,5,1]));this.qd=new i.GoogleCastLoader}await this.qd.prompt(this.a),t&&this.g.i.k("media-google-cast-request",t);const s=d(this.$state.remotePlaybackState)!=="disconnected";s&&this.$state.savedState.set({paused:d(this.$state.paused),currentTime:d(this.$state.currentTime)}),this.$state.remotePlaybackLoader.set(s?this.qd:null)}catch(e){throw this.g.i.ub("media-google-cast-request"),e}}"media-clip-start-change-request"(t){const{clipStartTime:e}=this.$state;e.set(t.detail)}"media-clip-end-change-request"(t){const{clipEndTime:e}=this.$state;e.set(t.detail),this.dispatch("duration-change",{detail:t.detail,trigger:t})}"media-duration-change-request"(t){const{providedDuration:e,clipEndTime:s}=this.$state;e.set(t.detail),s()<=0&&this.dispatch("duration-change",{detail:t.detail,trigger:t})}"media-audio-track-change-request"(t){const{logger:e,audioTracks:s}=this.a;if(s.readonly)return;const i=t.detail,a=s[i];if(a){const r=t.type;this.g.i.k(r,t),a.selected=!0}}async"media-enter-fullscreen-request"(t){try{await this.Jg(t.detail,t)}catch(e){this.Zc(e,t)}}async"media-exit-fullscreen-request"(t){try{await this.Lg(t.detail,t)}catch(e){this.Zc(e,t)}}async Qd(t){const e=d(this.$props.fullscreenOrientation),s=t.detail;if(!(ut(e)||e==="none"||!this.bb.supported))if(s){if(this.bb.locked)return;this.dispatch("media-orientation-lock-request",{detail:e,trigger:t})}else this.bb.locked&&this.dispatch("media-orientation-unlock-request",{trigger:t})}Zc(t,e){this.Ba.V(this.createEvent("fullscreen-error",{detail:ht(t)}))}async"media-orientation-lock-request"(t){const e=t.type;try{this.g.i.k(e,t),await this.bb.lock(t.detail)}catch{this.g.i.ub(e)}}async"media-orientation-unlock-request"(t){const e=t.type;try{this.g.i.k(e,t),await this.bb.unlock()}catch{this.g.i.ub(e)}}async"media-enter-pip-request"(t){try{await this.He(t)}catch(e){this.Pg(e,t)}}async"media-exit-pip-request"(t){try{await this.Ge(t)}catch(e){this.Pg(e,t)}}Pg(t,e){this.Ba.V(this.createEvent("picture-in-picture-error",{detail:ht(t)}))}"media-live-edge-request"(t){const{live:e,liveEdge:s,canSeek:i}=this.$state;if(!(!e()||s()||!i())){this.g.i.k("media-seek-request",t);try{this.Ig()}catch{this.g.i.ub("media-seek-request")}}}async"media-loop-request"(t){try{this.g.Ob=!0,this.g.Bc=!0,await this.Ac(t)}catch{this.g.Ob=!1}}"media-user-loop-change-request"(t){this.$state.userPrefersLoop.set(t.detail)}async"media-pause-request"(t){if(!this.$state.paused())try{await this.Ee(t)}catch{}}async"media-play-request"(t){if(this.$state.paused())try{await this.Ac(t)}catch{}}"media-rate-change-request"(t){const{playbackRate:e,canSetPlaybackRate:s}=this.$state;if(e()===t.detail||!s())return;const i=this.C();i!=null&&i.setPlaybackRate&&(this.g.i.k("media-rate-change-request",t),i.setPlaybackRate(t.detail))}"media-audio-gain-change-request"(t){try{this.Hg(t.detail,t)}catch{}}"media-quality-change-request"(t){var r,o;const{qualities:e,storage:s,logger:i}=this.a;if(e.readonly)return;this.g.i.k("media-quality-change-request",t);const a=t.detail;if(a<0)e.autoSelect(t),t.isOriginTrusted&&((r=s==null?void 0:s.setVideoQuality)==null||r.call(s,null));else{const h=e[a];h&&(h.selected=!0,t.isOriginTrusted&&((o=s==null?void 0:s.setVideoQuality)==null||o.call(s,{id:h.id,width:h.width,height:h.height,bitrate:h.bitrate})))}}"media-pause-controls-request"(t){const e=t.type;this.g.i.k(e,t),this.yc.pause(t)}"media-resume-controls-request"(t){const e=t.type;this.g.i.k(e,t),this.yc.resume(t)}"media-seek-request"(t){const{seekableStart:e,seekableEnd:s,ended:i,canSeek:a,live:r,userBehindLiveEdge:o,clipStartTime:h}=this.$state,c=t.detail;i()&&(this.g.Bc=!0);const l=t.type;this.g.Ja=!1,this.g.i.ub(l);const p=c+h(),g=Math.floor(p)===Math.floor(s()),b=g?s():Math.min(Math.max(e()+.1,p),s()-.1);!Number.isFinite(b)||!a()||(this.g.i.k(l,t),this.C().setCurrentTime(b),r()&&t.isOriginTrusted&&Math.abs(s()-b)>=2&&o.set(!0))}"media-seeking-request"(t){const e=t.type;this.g.i.k(e,t),this.$state.seeking.set(!0),this.g.Ja=!0}"media-start-loading"(t){if(this.$state.canLoad())return;const e=t.type;this.g.i.k(e,t),this.Ba.V(this.createEvent("can-load"))}"media-poster-start-loading"(t){if(this.$state.canLoadPoster())return;const e=t.type;this.g.i.k(e,t),this.Ba.V(this.createEvent("can-load-poster"))}"media-text-track-change-request"(t){const{index:e,mode:s}=t.detail,i=this.a.textTracks[e];if(i){const a=t.type;this.g.i.k(a,t),i.setMode(s,t)}}"media-mute-request"(t){if(this.$state.muted())return;const e=t.type;this.g.i.k(e,t),this.C().setMuted(!0)}"media-unmute-request"(t){const{muted:e,volume:s}=this.$state;if(!e())return;const i=t.type;this.g.i.k(i,t),this.a.$provider().setMuted(!1),s()===0&&(this.g.i.k(i,t),this.C().setVolume(.25))}"media-volume-change-request"(t){const{muted:e,volume:s}=this.$state,i=t.detail;if(s()===i)return;const a=t.type;this.g.i.k(a,t),this.C().setVolume(i),i>0&&e()&&(this.g.i.k(a,t),this.C().setMuted(!1))}Qa(t,e,s){}}function dt(n,t){if(!(n&&t))throw Error("[vidstack] media not ready")}function Ut(n,t){if(!(t!=null&&t.supported))throw Error("[vidstack] no fullscreen support")}class vs{constructor(){this.Ja=!1,this.Ob=!1,this.Bc=!1,this.i=new Es}}const qs=new Set(["auto-play","auto-play-fail","can-load","sources-change","source-change","load-start","abort","error","loaded-metadata","loaded-data","can-play","play","play-fail","pause","playing","seeking","seeked","waiting"]);class Cs extends V{constructor(t,e){super(),this.g=t,this.a=e,this.u=new Map,this.rd=!1,this.On=[],this.Ln=[-1,-1],this.sd=!1,this.Cc=!1,this.Ke=null,this.seeking=ie(s=>{const{seeking:i,realCurrentTime:a,paused:r}=this.$state;i.set(!0),a.set(s.detail),this.D("media-seeking-request",s),r()&&(this.Pb=s,this.Le()),this.Ln=[-1,-1]},150,{leading:!0}),this.Le=ae(()=>{if(!this.Pb)return;this.sd=!0;const{waiting:s,playing:i}=this.$state;s.set(!0),i.set(!1);const a=this.createEvent("waiting",{trigger:this.Pb});this.u.set("waiting",a),this.dispatch(a),this.Pb=void 0,this.sd=!1},300)}onAttach(t){t.setAttribute("aria-busy","true"),this.listen("fullscreen-change",this["fullscreen-change"].bind(this)),this.listen("fullscreen-error",this["fullscreen-error"].bind(this)),this.listen("orientation-change",this["orientation-change"].bind(this))}onConnect(t){u(this.Qj.bind(this)),this.Rj(),this.Sj(),this.Tj(),this.Uj(),L(this.Vj.bind(this))}onDestroy(){const{audioTracks:t,qualities:e,textTracks:s}=this.a;t[f.z](),e[f.z](),s[f.z](),this.Ie()}V(t){if(!this.scope)return;const e=t.type;z(()=>{var s;return(s=this[t.type])==null?void 0:s.call(this,t)}),qs.has(e)&&this.u.set(e,t),this.dispatch(t)}Uj(){this.Cc&&(requestAnimationFrame(()=>{this.scope&&this.a.remote.play(new $("dom-connect"))}),this.Cc=!1)}Vj(){var t;this.Cc||(this.Cc=!this.$state.paused(),(t=this.a.$provider())==null||t.pause())}vb(){this.Qg(),this.rd=!1,this.g.Bc=!1,this.g.Ob=!1,this.sd=!1,this.Pb=void 0,this.u.clear()}D(t,e){const s=this.g.i.xe(t);s&&(e.request=s,e.triggers.add(s))}Rj(){this.Je(),this.Rg();const t=this.a.textTracks;w(t,"add",this.Je.bind(this)),w(t,"remove",this.Je.bind(this)),w(t,"mode-change",this.Rg.bind(this))}Sj(){const t=this.a.qualities;w(t,"add",this.ld.bind(this)),w(t,"remove",this.ld.bind(this)),w(t,"change",this.Za.bind(this)),w(t,"auto-change",this.Wj.bind(this)),w(t,"readonly-change",this.Xj.bind(this))}Tj(){const t=this.a.audioTracks;w(t,"add",this.Sg.bind(this)),w(t,"remove",this.Sg.bind(this)),w(t,"change",this.Yj.bind(this))}Je(t){const{textTracks:e}=this.$state;e.set(this.a.textTracks.toArray()),this.dispatch("text-tracks-change",{detail:e(),trigger:t})}Rg(t){t&&this.D("media-text-track-change-request",t);const e=this.a.textTracks.selected,{textTrack:s}=this.$state;s()!==e&&(s.set(e),this.dispatch("text-track-change",{detail:e,trigger:t}))}Sg(t){const{audioTracks:e}=this.$state;e.set(this.a.audioTracks.toArray()),this.dispatch("audio-tracks-change",{detail:e(),trigger:t})}Yj(t){const{audioTrack:e}=this.$state;e.set(this.a.audioTracks.selected),t&&this.D("media-audio-track-change-request",t),this.dispatch("audio-track-change",{detail:e(),trigger:t})}ld(t){const{qualities:e}=this.$state;e.set(this.a.qualities.toArray()),this.dispatch("qualities-change",{detail:e(),trigger:t})}Za(t){const{quality:e}=this.$state;e.set(this.a.qualities.selected),t&&this.D("media-quality-change-request",t),this.dispatch("quality-change",{detail:e(),trigger:t})}Wj(){const{qualities:t}=this.a,e=t.auto;this.$state.autoQuality.set(e),e||this.Ie()}Tg(){this.Ie(),this.Ke=u(()=>{const{qualities:t}=this.a,{mediaWidth:e,mediaHeight:s}=this.$state,i=e(),a=s();if(i===0||a===0)return;let r=null,o=1/0;for(const h of t){const c=Math.abs(h.width-i)+Math.abs(h.height-a);c<o&&(o=c,r=h)}r&&t[f.ea](r,!0,new $("resize",{detail:{width:i,height:a}}))})}Ie(){var t;(t=this.Ke)==null||t.call(this),this.Ke=null}Xj(){this.$state.canSetQuality.set(!this.a.qualities.readonly)}Qj(){const{canSetVolume:t,isGoogleCastConnected:e}=this.$state;if(e()){t.set(!1);return}xe().then(t.set)}"provider-change"(t){var i,a;const e=this.a.$provider(),s=t.detail;(e==null?void 0:e.type)!==(s==null?void 0:s.type)&&((i=e==null?void 0:e.destroy)==null||i.call(e),(a=e==null?void 0:e.scope)==null||a.dispose(),this.a.$provider.set(t.detail),e&&t.detail===null&&this.Ug(t))}"provider-loader-change"(t){}"auto-play"(t){this.$state.autoPlayError.set(null)}"auto-play-fail"(t){this.$state.autoPlayError.set(t.detail),this.vb()}"can-load"(t){this.$state.canLoad.set(!0),this.u.set("can-load",t),this.a.textTracks[S.Z](),this.D("media-start-loading",t)}"can-load-poster"(t){this.$state.canLoadPoster.set(!0),this.u.set("can-load-poster",t),this.D("media-poster-start-loading",t)}"media-type-change"(t){const e=this.u.get("source-change");e&&t.triggers.add(e);const s=this.$state.viewType();this.$state.mediaType.set(t.detail);const i=this.$state.providedViewType(),a=i==="unknown"?t.detail:i;s!==a&&setTimeout(()=>{requestAnimationFrame(()=>{this.scope&&(this.$state.inferredViewType.set(t.detail),this.dispatch("view-type-change",{detail:a,trigger:t}))})},0)}"stream-type-change"(t){const e=this.u.get("source-change");e&&t.triggers.add(e);const{streamType:s,inferredStreamType:i}=this.$state;i.set(t.detail),t.detail=s()}"rate-change"(t){var i;const{storage:e}=this.a,{canPlay:s}=this.$state;this.$state.playbackRate.set(t.detail),this.D("media-rate-change-request",t),s()&&((i=e==null?void 0:e.setPlaybackRate)==null||i.call(e,t.detail))}"remote-playback-change"(t){const{remotePlaybackState:e,remotePlaybackType:s}=this.$state,{type:i,state:a}=t.detail,r=a==="connected";s.set(i),e.set(a);const o=i==="airplay"?"media-airplay-request":"media-google-cast-request";if(r)this.D(o,t);else{const h=this.g.i.rg(o);h&&(t.request=h,t.triggers.add(h))}}"sources-change"(t){const e=this.$state.sources(),s=t.detail;this.$state.sources.set(s),this.Zj(e,s,t)}Zj(t,e,s){let{qualities:i}=this.a,a=!1,r=!1;for(const o of t){if(!mt(o))continue;if(!e.some(c=>c.src===o.src)){const c=i.getBySrc(o.src);c&&(i[f.cc](c,s),r=!0)}}r&&!i.length&&(this.$state.savedState.set(null),i[f.z](s));for(const o of e){if(!mt(o)||i.getBySrc(o.src))continue;const h={id:o.id??o.height+"p",bitrate:null,codec:null,...o,selected:!1};i[f.da](h,s),a=!0}a&&!i[A.Ia]&&(this.Tg(),i[A.Ia]=this.Tg.bind(this),i[A.Wa](!0,s))}"source-change"(t){var s,i;t.isQualityChange=((s=t.originEvent)==null?void 0:s.type)==="quality-change";const e=t.detail;this.Ug(t,t.isQualityChange),this.u.set(t.type,t),this.$state.source.set(e),(i=this.el)==null||i.setAttribute("aria-busy","true")}Ug(t,e=!1){const{audioTracks:s,qualities:i}=this.a;if(!e){this.On=[],this.Ln=[-1,-1],s[f.z](t),i[f.z](t),Wt(this.$state,e),this.vb();return}Wt(this.$state,e),this.vb()}abort(t){const e=this.u.get("source-change");e&&t.triggers.add(e);const s=this.u.get("can-load");s&&!t.triggers.hasType("can-load")&&t.triggers.add(s)}"load-start"(t){const e=this.u.get("source-change");e&&t.triggers.add(e)}error(t){this.$state.error.set(t.detail);const e=this.u.get("abort");e&&t.triggers.add(e)}"loaded-metadata"(t){const e=this.u.get("load-start");e&&t.triggers.add(e)}"loaded-data"(t){const e=this.u.get("load-start");e&&t.triggers.add(e)}"can-play"(t){var s;const e=this.u.get("loaded-metadata");e&&t.triggers.add(e),this.Vg(t.detail),(s=this.el)==null||s.setAttribute("aria-busy","false")}"can-play-through"(t){this.Vg(t.detail);const e=this.u.get("can-play");e&&t.triggers.add(e)}Vg(t){const{seekable:e,buffered:s,intrinsicDuration:i,canPlay:a}=this.$state;a.set(!0),s.set(t.buffered),e.set(t.seekable);const r=F(t.seekable)??1/0;i.set(r)}"duration-change"(t){const{live:e,intrinsicDuration:s,providedDuration:i,clipEndTime:a,ended:r}=this.$state,o=t.detail;if(!e()){const h=Number.isNaN(o)?0:o;s.set(h),r()&&this.Wg(t)}(i()>0||a()>0)&&t.stopImmediatePropagation()}progress(t){const{buffered:e,bufferedEnd:s,seekable:i,seekableEnd:a,live:r,intrinsicDuration:o}=this.$state,{buffered:h,seekable:c}=t.detail,l=F(h)??1/0,p=h.length!==e().length,g=l>s(),b=F(c)??1/0,T=c.length!==i().length,m=b>a();(p||g)&&e.set(h),(T||m)&&i.set(c),r()&&(o.set(b),this.dispatch("duration-change",{detail:b,trigger:t}))}play(t){const{paused:e,autoPlayError:s,ended:i,autoPlaying:a,playsInline:r,pointer:o,muted:h,viewType:c,live:l,userBehindLiveEdge:p}=this.$state;if(this._j(),!e()){t.stopImmediatePropagation();return}t.autoPlay=a();const g=this.u.get("waiting");g&&t.triggers.add(g),this.D("media-play-request",t),this.u.set("play",t),e.set(!1),s.set(null),t.autoPlay&&(this.V(this.createEvent("auto-play",{detail:{muted:h()},trigger:t})),a.set(!1)),(i()||this.g.Bc)&&(this.g.Bc=!1,i.set(!1),this.V(this.createEvent("replay",{trigger:t}))),!r()&&c()==="video"&&o()==="coarse"&&this.a.remote.enterFullscreen("prefer-media",t),l()&&!p()&&this.a.remote.seekToLiveEdge(t)}_j(t){if(!d(this.a.$provider))return;const{ended:s,seekableStart:i,clipStartTime:a,clipEndTime:r,realCurrentTime:o,duration:h}=this.$state,c=o()<a()||r()>0&&o()>=r()||Math.abs(o()-h())<.1||s();return c&&this.dispatch("media-seek-request",{detail:(a()>0?0:i())+.1,trigger:t}),c}"play-fail"(t){const{muted:e,autoPlaying:s}=this.$state,i=this.u.get("play");i&&t.triggers.add(i),this.D("media-play-request",t);const{paused:a,playing:r}=this.$state;a.set(!0),r.set(!1),this.vb(),this.u.set("play-fail",t),t.autoPlay&&(this.V(this.createEvent("auto-play-fail",{detail:{muted:e(),error:t.detail},trigger:t})),s.set(!1))}playing(t){const e=this.u.get("play"),s=this.u.get("seeked");e?t.triggers.add(e):s&&t.triggers.add(s),setTimeout(()=>this.vb(),0);const{paused:i,playing:a,live:r,liveSyncPosition:o,seekableEnd:h,started:c,currentTime:l,seeking:p,ended:g}=this.$state;if(i.set(!1),a.set(!0),p.set(!1),g.set(!1),this.g.Ob){this.g.Ob=!1;return}if(r()&&!c()&&l()===0){const b=o()??h()-2;Number.isFinite(b)&&this.a.$provider().setCurrentTime(b)}this.started(t)}started(t){const{started:e}=this.$state;e()||(e.set(!0),this.V(this.createEvent("started",{trigger:t})))}pause(t){var a;(a=this.el)!=null&&a.isConnected||(this.Cc=!0),this.D("media-pause-request",t);const e=this.u.get("seeked");e&&t.triggers.add(e);const{paused:s,playing:i}=this.$state;s.set(!0),i.set(!1),this.rd&&setTimeout(()=>{this.V(this.createEvent("end",{trigger:t})),this.rd=!1},0),this.vb()}"time-change"(t){if(this.g.Ob){t.stopImmediatePropagation();return}let{waiting:e,played:s,clipEndTime:i,realCurrentTime:a,currentTime:r}=this.$state,o=t.detail,h=i();a.set(o),this.Pn(),e.set(!1);for(const c of this.a.textTracks)c[S.Eb](o,t);h>0&&o>=h&&(this.rd=!0,this.dispatch("media-pause-request",{trigger:t})),this.$j(),this.dispatch("time-update",{detail:{currentTime:r(),played:s()},trigger:t})}Pn(){const{currentTime:t,played:e,paused:s}=this.$state;s()||(this.Ln=je(this.On,this.Ln,t()),e.set(new U(this.On)))}Wg(t){const{clipStartTime:e,clipEndTime:s,duration:i}=this.$state;e()>0||s()>0||this.V(this.createEvent("time-change",{detail:i(),trigger:t}))}$j(){var i;const{storage:t}=this.a,{canPlay:e,realCurrentTime:s}=this.$state;e()&&((i=t==null?void 0:t.setTime)==null||i.call(t,s()))}"audio-gain-change"(t){var a;const{storage:e}=this.a,{canPlay:s,audioGain:i}=this.$state;i.set(t.detail),this.D("media-audio-gain-change-request",t),s()&&((a=e==null?void 0:e.setAudioGain)==null||a.call(e,i()))}"volume-change"(t){var o,h;const{storage:e}=this.a,{volume:s,muted:i,canPlay:a}=this.$state,r=t.detail;s.set(r.volume),i.set(r.muted||r.volume===0),this.D("media-volume-change-request",t),this.D(r.muted?"media-mute-request":"media-unmute-request",t),a()&&((o=e==null?void 0:e.setVolume)==null||o.call(e,s()),(h=e==null?void 0:e.setMuted)==null||h.call(e,i()))}seeked(t){const{seeking:e,currentTime:s,realCurrentTime:i,paused:a,seekableEnd:r,ended:o}=this.$state;if(this.g.Ja)e.set(!0),t.stopImmediatePropagation();else if(e()){const h=this.u.get("waiting");h&&t.triggers.add(h);const c=this.u.get("seeking");c&&!t.triggers.has(c)&&t.triggers.add(c),a()&&this.Qg(),e.set(!1),i.set(t.detail),this.D("media-seek-request",t);const l=t==null?void 0:t.originEvent;l!=null&&l.isTrusted&&!/seek/.test(l.type)&&this.started(t)}Math.floor(s())!==Math.floor(r())?o.set(!1):this.end(t)}waiting(t){this.sd||this.g.Ja||(t.stopImmediatePropagation(),this.Pb=t,this.Le())}end(t){const{loop:e,ended:s}=this.$state;if(!(!e()&&s())){if(e()){setTimeout(()=>{requestAnimationFrame(()=>{this._j(t),this.dispatch("media-loop-request",{trigger:t})})},10);return}setTimeout(()=>this.lc(t),0)}}lc(t){var o;const{storage:e}=this.a,{paused:s,seeking:i,ended:a,duration:r}=this.$state;this.Wg(t),s()||this.dispatch("pause",{trigger:t}),i()&&this.dispatch("seeked",{detail:r(),trigger:t}),a.set(!0),this.vb(),(o=e==null?void 0:e.setTime)==null||o.call(e,r(),!0),this.dispatch("ended",{trigger:t})}Qg(){this.Le.cancel(),this.$state.waiting.set(!1)}"fullscreen-change"(t){const e=t.detail;this.$state.fullscreen.set(e),this.D(e?"media-enter-fullscreen-request":"media-exit-fullscreen-request",t)}"fullscreen-error"(t){this.D("media-enter-fullscreen-request",t),this.D("media-exit-fullscreen-request",t)}"orientation-change"(t){const e=t.detail.lock;this.D(e?"media-orientation-lock-request":"media-orientation-unlock-request",t)}"picture-in-picture-change"(t){const e=t.detail;this.$state.pictureInPicture.set(e),this.D(e?"media-enter-pip-request":"media-exit-pip-request",t)}"picture-in-picture-error"(t){this.D("media-enter-pip-request",t),this.D("media-exit-pip-request",t)}"title-change"(t){t.trigger&&(t.stopImmediatePropagation(),this.$state.inferredTitle.set(t.detail))}"poster-change"(t){t.trigger&&(t.stopImmediatePropagation(),this.$state.inferredPoster.set(t.detail))}}class Ls extends V{onSetup(){this.Hb();const t=[this.bk,this.ck,this.Jn,this.Kn,this.Xd,this.Ca,this.ek,this.fk,this.gk,this.hk,this.ik,this.Me,this.jk,this.kk,this.td];for(const e of t)u(e.bind(this))}Hb(){var s;const t={duration:"providedDuration",loop:"providedLoop",poster:"providedPoster",streamType:"providedStreamType",title:"providedTitle",viewType:"providedViewType"},e=new Set(["currentTime","paused","playbackRate","volume"]);for(const i of Object.keys(this.$props))e.has(i)||(s=this.$state[t[i]??i])==null||s.set(this.$props[i]());this.$state.muted.set(this.$props.muted()||this.$props.volume()===0)}kk(){const{viewType:t,streamType:e,title:s,poster:i,loop:a}=this.$props,r=this.$state;r.providedPoster.set(i()),r.providedStreamType.set(e()),r.providedViewType.set(t()),r.providedTitle.set(s()),r.providedLoop.set(a())}ak(){}bk(){const{artist:t,artwork:e}=this.$props;this.$state.artist.set(t()),this.$state.artwork.set(e())}td(){const{title:t}=this.$state;this.dispatch("title-change",{detail:t()})}ck(){const t=this.$props.autoPlay()||this.$props.autoplay();this.$state.autoPlay.set(t),this.dispatch("auto-play-change",{detail:t})}ik(){const t=this.$state.loop();this.dispatch("loop-change",{detail:t})}Xd(){const t=this.$props.controls();this.$state.controls.set(t)}jk(){const{poster:t}=this.$state;this.dispatch("poster-change",{detail:t()})}Ca(){const t=this.$props.crossOrigin()??this.$props.crossorigin(),e=t===!0?"":t;this.$state.crossOrigin.set(e)}ek(){const{duration:t}=this.$props;this.dispatch("media-duration-change-request",{detail:t()})}Me(){const t=this.$props.playsInline()||this.$props.playsinline();this.$state.playsInline.set(t),this.dispatch("plays-inline-change",{detail:t})}Jn(){const{clipStartTime:t}=this.$props;this.dispatch("media-clip-start-change-request",{detail:t()})}Kn(){const{clipEndTime:t}=this.$props;this.dispatch("media-clip-end-change-request",{detail:t()})}fk(){this.dispatch("live-change",{detail:this.$state.live()})}hk(){this.$state.liveEdgeTolerance.set(this.$props.liveEdgeTolerance()),this.$state.minLiveDVRWindow.set(this.$props.minLiveDVRWindow())}gk(){this.dispatch("live-edge-change",{detail:this.$state.liveEdge()})}}const j=class j extends V{constructor(){super()}onConnect(){u(this.lk.bind(this)),u(this.mk.bind(this));const t=this.nk.bind(this);for(const e of j.Xg)navigator.mediaSession.setActionHandler(e,t);L(this.Fa.bind(this))}Fa(){for(const t of j.Xg)navigator.mediaSession.setActionHandler(t,null)}lk(){const{title:t,artist:e,artwork:s,poster:i}=this.$state;navigator.mediaSession.metadata=new MediaMetadata({title:t(),artist:e(),artwork:s()??[{src:i()}]})}mk(){const{canPlay:t,paused:e}=this.$state;navigator.mediaSession.playbackState=t()?e()?"paused":"playing":"none"}nk(t){const e=new $("media-session-action",{detail:t});switch(t.action){case"play":this.dispatch("media-play-request",{trigger:e});break;case"pause":this.dispatch("media-pause-request",{trigger:e});break;case"seekto":case"seekforward":case"seekbackward":this.dispatch("media-seek-request",{detail:pt(t.seekTime)?t.seekTime:this.$state.currentTime()+(t.seekOffset??10),trigger:e});break}}};j.Xg=["play","pause","seekforward","seekbackward","seekto"];let bt=j;var As=Object.defineProperty,xs=Object.getOwnPropertyDescriptor,k=(n,t,e,s)=>{for(var i=s>1?void 0:s?xs(t,e):t,a=n.length-1,r;a>=0;a--)(r=n[a])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&As(t,e,i),i},D;const y=(D=class extends St{constructor(){super(),this.canPlayQueue=new de,this.Re=!1,new Ls;const t={player:this,qualities:new hs,audioTracks:new os,storage:null,$provider:x(null),$providerSetup:x(!1),$props:this.$props,$state:this.$state};t.remote=this.remoteControl=new ss(void 0),t.remote.setPlayer(this),t.textTracks=new ns,t.textTracks[S.Db]=this.$state.crossOrigin,t.textRenderers=new rs(t),t.ariaKeys={},this.a=t,Te(we,t),this.orientation=new J,new Ge,new fs(t);const e=new vs;this.Ba=new Cs(e,t),this.W=new Ss(this.Ba,e,t),t.delegate=new $s(this.Ba.V.bind(this.Ba),t),typeof navigator<"u"&&"mediaSession"in navigator&&new bt,new Kt("load",this.startLoading.bind(this)),new Kt("posterLoad",this.startLoadingPoster.bind(this))}get p(){return this.a.$provider()}get vd(){return this.$props}onSetup(){this.rk(),u(this.sk.bind(this)),u(this.tk.bind(this)),u(this.fc.bind(this)),u(this.Fc.bind(this)),u(this.Qb.bind(this)),u(this.Me.bind(this)),u(this.Qe.bind(this))}onAttach(t){t.setAttribute("data-media-player",""),_t(t,"tabindex","0"),_t(t,"role","region"),u(this.uk.bind(this)),u(this.td.bind(this)),u(this.Yg.bind(this)),w(t,"find-media-player",this.vk.bind(this))}onConnect(t){Zt&&v(t,"data-iphone","");const e=window.matchMedia("(pointer: coarse)");this.Zg(e),e.onchange=this.Zg.bind(this);const s=new ResizeObserver(ee(this.pa.bind(this)));s.observe(t),u(this.pa.bind(this)),this.dispatch("media-player-connect",{detail:this,bubbles:!0,composed:!0}),L(()=>{s.disconnect(),e.onchange=null})}onDestroy(){this.a.player=null,this.canPlayQueue.z()}td(){const t=this.$el,{title:e,live:s,viewType:i,providedTitle:a}=this.$state,r=s(),o=Pe(i()),h=o!=="Unknown"?`${r?"Live ":""}${o}`:r?"Live":"Media",c=e();v(this.el,"aria-label",`${h} Player`+(c?` - ${c}`:"")),t!=null&&t.hasAttribute("title")&&(this.Re=!0,t==null||t.removeAttribute("title"))}Yg(){const t=this.orientation.landscape?"landscape":"portrait";this.$state.orientation.set(t),v(this.el,"data-orientation",t),this.pa()}sk(){this.$state.canPlay()&&this.p?this.canPlayQueue.Xa():this.canPlayQueue.$()}rk(){if(D[lt]){this.setAttributes(D[lt]);return}const t={"data-load":function(){return this.$props.load()},"data-captions":function(){const s=this.$state.textTrack();return!!s&&C(s)},"data-ios-controls":function(){return this.$state.iOSControls()},"data-controls":function(){return this.controls.showing},"data-buffering":function(){const{canLoad:s,canPlay:i,waiting:a}=this.$state;return s()&&(!i()||a())},"data-error":function(){const{error:s}=this.$state;return!!s()},"data-autoplay-error":function(){const{autoPlayError:s}=this.$state;return!!s()}},e={autoPlay:"autoplay",canAirPlay:"can-airplay",canPictureInPicture:"can-pip",pictureInPicture:"pip",playsInline:"playsinline",remotePlaybackState:"remote-state",remotePlaybackType:"remote-type",isAirPlayConnected:"airplay",isGoogleCastConnected:"google-cast"};for(const s of ws){const i="data-"+(e[s]??$e(s));t[i]=function(){return this.$state[s]()}}delete t.title,D[lt]=t,this.setAttributes(t)}vk(t){t.detail(this)}pa(){if(!this.el)return;const t=this.el.clientWidth,e=this.el.clientHeight;this.$state.width.set(t),this.$state.height.set(e),B(this.el,"--player-width",t+"px"),B(this.el,"--player-height",e+"px")}Zg(t){const e=t.matches?"coarse":"fine";v(this.el,"data-pointer",e),this.$state.pointer.set(e),this.pa()}get provider(){return this.p}get controls(){return this.W.yc}set controls(t){this.vd.controls.set(t)}get title(){return d(this.$state.providedTitle)}set title(t){if(this.Re){this.Re=!1;return}this.$state.providedTitle.set(t)}get qualities(){return this.a.qualities}get audioTracks(){return this.a.audioTracks}get textTracks(){return this.a.textTracks}get textRenderers(){return this.a.textRenderers}get duration(){return this.$state.duration()}set duration(t){this.vd.duration.set(t)}get paused(){return d(this.$state.paused)}set paused(t){this._g(t)}fc(){this._g(this.$props.paused())}_g(t){t?this.canPlayQueue.k("paused",()=>this.W.Ee()):this.canPlayQueue.k("paused",()=>this.W.Ac())}get muted(){return d(this.$state.muted)}set muted(t){this.vd.muted.set(t)}tk(){this.wk(this.$props.muted())}wk(t){this.canPlayQueue.k("muted",()=>{this.p&&this.p.setMuted(t)})}get currentTime(){return d(this.$state.currentTime)}set currentTime(t){this.$g(t)}Qb(){this.$g(this.$props.currentTime())}$g(t){this.canPlayQueue.k("currentTime",()=>{const{currentTime:e,clipStartTime:s,seekableStart:i,seekableEnd:a}=this.$state;t!==d(e)&&d(()=>{if(!this.p)return;const r=t+s(),o=Math.floor(r)===Math.floor(a()),h=o?a():Math.min(Math.max(i()+.1,r),a()-.1);Number.isFinite(h)&&this.p.setCurrentTime(h)})})}get volume(){return d(this.$state.volume)}set volume(t){this.vd.volume.set(t)}Fc(){this.xk(this.$props.volume())}xk(t){const e=He(0,t,1);this.canPlayQueue.k("volume",()=>{this.p&&this.p.setVolume(e)})}get playbackRate(){return d(this.$state.playbackRate)}set playbackRate(t){this.ah(t)}Qe(){this.ah(this.$props.playbackRate())}ah(t){this.canPlayQueue.k("rate",()=>{var e,s;this.p&&((s=(e=this.p).setPlaybackRate)==null||s.call(e,t))})}Me(){this.yk(this.$props.playsInline())}yk(t){this.canPlayQueue.k("playsinline",()=>{var e,s;this.p&&((s=(e=this.p).setPlaysInline)==null||s.call(e,t))})}uk(){var s;let t=this.$props.storage(),e=P(t)?new is:t;if(e!=null&&e.onChange){const{source:i}=this.$state,a=P(t)?t:(s=this.el)==null?void 0:s.id,r=X(this.zk.bind(this));u(()=>e.onChange(i(),r(),a||void 0))}this.a.storage=e,this.a.textTracks.setStorage(e),L(()=>{var i;(i=e==null?void 0:e.onDestroy)==null||i.call(e),this.a.storage=null,this.a.textTracks.setStorage(null)})}zk(){const{clipStartTime:t,clipEndTime:e}=this.$props,{source:s}=this.$state,i=s();return i.src?`${i.src}:${t()}:${e()}`:null}async play(t){return this.W.Ac(t)}async pause(t){return this.W.Ee(t)}async enterFullscreen(t,e){return this.W.Jg(t,e)}async exitFullscreen(t,e){return this.W.Lg(t,e)}enterPictureInPicture(t){return this.W.He(t)}exitPictureInPicture(t){return this.W.Ge(t)}seekToLiveEdge(t){this.W.Ig(t)}startLoading(t){this.a.delegate.c("can-load",void 0,t)}startLoadingPoster(t){this.a.delegate.c("can-load-poster",void 0,t)}requestAirPlay(t){return this.W.Ng(t)}requestGoogleCast(t){return this.W.Og(t)}setAudioGain(t,e){return this.W.Hg(t,e)}destroy(){super.destroy(),this.a.remote.setPlayer(null),this.dispatch("destroy")}},D.props=Ps,D.state=he,D);k([E],y.prototype,"canPlayQueue",2);k([E],y.prototype,"remoteControl",2);k([E],y.prototype,"provider",1);k([E],y.prototype,"controls",1);k([E],y.prototype,"orientation",2);k([E],y.prototype,"title",1);k([E],y.prototype,"qualities",1);k([E],y.prototype,"audioTracks",1);k([E],y.prototype,"textTracks",1);k([E],y.prototype,"textRenderers",1);k([E],y.prototype,"duration",1);k([E],y.prototype,"paused",1);k([E],y.prototype,"muted",1);k([E],y.prototype,"currentTime",1);k([E],y.prototype,"volume",1);k([E],y.prototype,"playbackRate",1);k([q],y.prototype,"play",1);k([q],y.prototype,"pause",1);k([q],y.prototype,"enterFullscreen",1);k([q],y.prototype,"exitFullscreen",1);k([q],y.prototype,"enterPictureInPicture",1);k([q],y.prototype,"exitPictureInPicture",1);k([q],y.prototype,"seekToLiveEdge",1);k([q],y.prototype,"startLoading",1);k([q],y.prototype,"startLoadingPoster",1);k([q],y.prototype,"requestAirPlay",1);k([q],y.prototype,"requestGoogleCast",1);k([q],y.prototype,"setAudioGain",1);let Is=y;function Ds(n,t){return fetch(n,t).then(e=>e.text()).then(e=>/type="static"/.test(e)?"on-demand":"live")}function ue(n,t){return fetch(n,t).then(e=>e.text()).then(e=>{const s=Os(e);if(s)return ue(/^https?:/.test(s)?s:new URL(s,n).href,t);const i=/EXT-X-PLAYLIST-TYPE:\s*VOD/.test(e)?"on-demand":"live";return i==="live"&&Ms(e)>=10&&(/#EXT-X-DVR-ENABLED:\s*true/.test(e)||e.includes("#EXT-X-DISCONTINUITY"))?"live:dvr":i})}function Os(n){const t=n.match(/#EXT-X-STREAM-INF:[^\n]+(\n[^\n]+)*/g);return t?t[0].split(`
`)[1].trim():null}function Ms(n){const t=n.split(`
`);for(const e of t)if(e.startsWith("#EXT-X-TARGETDURATION")){const s=parseFloat(e.split(":")[1]);if(!isNaN(s))return s}return-1}const kt=new Map;class Rs{constructor(t,e,s,i=[]){this.wd=t,this.a=e,this.X=s,this.Se=!1;const a=new gt,r=new yt,o=new vt,h=new bs,c=new Ts,l=new ks,p=[c,l];this.Te=X(()=>{const b=e.$state.remotePlaybackLoader(),T=e.$props.preferNativeHLS()?[o,h,a,r,...p,...i]:[r,o,h,a,...p,...i];return b?[b,...T]:T});const{$state:g}=e;g.sources.set(Bt(e.$props.src()));for(const b of g.sources()){const T=this.Te().find(M=>M.canPlay(b));if(!T)continue;const m=T.mediaType(b);this.a.$state.source.set(b),this.a.$state.mediaType.set(m),this.a.$state.inferredViewType.set(m),this.X.set(T),this.Se=!0;break}}get c(){return this.a.delegate.c}connect(){const t=this.X();this.Se&&(this.bh(this.a.$state.source(),t),this.ch(t),this.Se=!1),u(this.Ak.bind(this)),u(this.Bk.bind(this)),u(this.Ck.bind(this)),u(this.Dk.bind(this)),u(this.Ek.bind(this))}Ak(){this.c("sources-change",[...Bt(this.a.$props.src()),...this.wd()])}Bk(){var r;const{$state:t}=this.a,e=t.sources(),s=d(t.source),i=this.dh(s,e);if(((r=e[0])==null?void 0:r.src)&&!i.src&&!i.type){const{crossOrigin:o}=t,h=ot(o()),c=new AbortController;return Promise.all(e.map(l=>P(l.src)&&l.type==="?"?fetch(l.src,{method:"HEAD",credentials:h,signal:c.signal}).then(p=>(l.type=p.headers.get("content-type")||"??",kt.set(l.src,l.type),l)).catch(()=>l):l)).then(l=>{if(c.signal.aborted)return;const p=this.dh(d(t.source),l);N(),p.src||this.c("error",{message:"Failed to load resource.",code:4})}),()=>c.abort()}N()}dh(t,e){let s={src:"",type:""},i=null,a=new $("sources-change",{detail:{sources:e}}),r=this.Te(),{started:o,paused:h,currentTime:c,quality:l,savedState:p}=this.a.$state;for(const g of e){const b=r.find(T=>T.canPlay(g));if(b){s=g,i=b;break}}if(mt(s)){const g=l(),b=e.find(T=>T.src===(g==null?void 0:g.src));d(o)?p.set({paused:d(h),currentTime:d(c)}):p.set(null),b&&(s=b,a=new $("quality-change",{detail:{quality:g}}))}return zt(t,s)||this.bh(s,i,a),i!==d(this.X)&&this.ch(i,a),s}bh(t,e,s){this.c("source-change",t,s),this.c("media-type-change",(e==null?void 0:e.mediaType(t))||"unknown",s)}ch(t,e){this.a.$providerSetup.set(!1),this.c("provider-change",null,e),t&&d(()=>{var s;return(s=t.preconnect)==null?void 0:s.call(t,this.a)}),this.X.set(t),this.c("provider-loader-change",t,e)}Ck(){const t=this.a.$provider();if(!(!t||d(this.a.$providerSetup))){if(this.a.$state.canLoad()){Ie(()=>t.setup(),t.scope),this.a.$providerSetup.set(!0);return}d(()=>{var e;return(e=t.preconnect)==null?void 0:e.call(t)})}}Dk(){if(!this.a.$providerSetup())return;const t=this.a.$provider(),e=this.a.$state.source(),s=d(this.a.$state.crossOrigin),i=d(this.a.$props.preferNativeHLS);if(!zt(t==null?void 0:t.currentSrc,e)){if(this.a.$state.canLoad()){const a=new AbortController;return $t(e)?(i||!te())&&ue(e.src,{credentials:ot(s),signal:a.signal}).then(r=>{this.c("stream-type-change",r)}).catch(Ht):Et(e)?Ds(e.src,{credentials:ot(s),signal:a.signal}).then(r=>{this.c("stream-type-change",r)}).catch(Ht):this.c("stream-type-change","on-demand"),d(()=>{const r=d(this.a.$state.preload);return t==null?void 0:t.loadSource(e,r).catch(o=>{})}),()=>a.abort()}try{P(e.src)&&rt(new URL(e.src).origin)}catch{}}}Ek(){const t=this.X(),{providedPoster:e,source:s,canLoadPoster:i}=this.a.$state;if(!t||!t.loadPoster||!s()||!i()||e())return;const a=new AbortController,r=new $("source-change",{detail:s});return t.loadPoster(s(),this.a,a).then(o=>{this.c("poster-change",o||"",r)}).catch(()=>{this.c("poster-change","",r)}),()=>{a.abort()}}}function Bt(n){return(R(n)?n:[n]).map(t=>P(t)?{src:t,type:Xt(t)}:{...t,type:Xt(t.src,t.type)})}function Xt(n,t){return P(t)&&t.length?t:P(n)&&kt.has(n)?kt.get(n):!t&&$t({src:n,type:""})?"application/x-mpegurl":!t&&Et({src:n,type:""})?"application/dash+xml":!P(n)||n.startsWith("blob:")?"video/object":n.includes("youtube")||n.includes("youtu.be")?"video/youtube":n.includes("vimeo")&&!n.includes("progressive_redirect")&&!n.includes(".m3u8")?"video/vimeo":"?"}function zt(n,t){return(n==null?void 0:n.src)===(t==null?void 0:t.src)&&(n==null?void 0:n.type)===(t==null?void 0:t.type)}class Vs{constructor(t,e){this.xd=t,this.a=e,this.eh=[],u(this.Fk.bind(this))}Fk(){const t=this.xd();for(const e of this.eh)if(!t.some(s=>s.id===e.id)){const s=e.id&&this.a.textTracks.getById(e.id);s&&this.a.textTracks.remove(s)}for(const e of t){const s=e.id||Y.createId(e);this.a.textTracks.getById(s)||(e.id=s,this.a.textTracks.add(e))}this.eh=t}}var _s=Object.defineProperty,Gs=Object.getOwnPropertyDescriptor,Hs=(n,t,e,s)=>{for(var i=Gs(t,e),a=n.length-1,r;a>=0;a--)(r=n[a])&&(i=r(t,e,i)||i);return i&&_s(t,e,i),i};const it=class it extends St{constructor(){super(...arguments),this.wd=x([]),this.xd=x([]),this.X=null,this.Ue=-1}onSetup(){this.a=se(),this.fh=new Rs(this.wd,this.a,this.$state.loader,this.$props.loaders())}onAttach(t){t.setAttribute("data-media-provider","")}onConnect(t){this.fh.connect(),new Vs(this.xd,this.a);const e=new ResizeObserver(ee(this.pa.bind(this)));e.observe(t);const s=new MutationObserver(this.Gc.bind(this));s.observe(t,{attributes:!0,childList:!0}),this.pa(),this.Gc(),L(()=>{e.disconnect(),s.disconnect()})}load(t){window.cancelAnimationFrame(this.Ue),this.Ue=requestAnimationFrame(()=>this.Gk(t)),L(()=>{window.cancelAnimationFrame(this.Ue)})}Gk(t){if(!this.scope)return;const e=this.$state.loader(),{$provider:s}=this.a;this.X===e&&(e==null?void 0:e.target)===t&&d(s)||(this.gh(),this.X=e,e&&(e.target=t||null),!(!e||!t)&&e.load(this.a).then(i=>{this.scope&&d(this.$state.loader)===e&&this.a.delegate.c("provider-change",i)}))}onDestroy(){this.X=null,this.gh()}gh(){var t;(t=this.a)==null||t.delegate.c("provider-change",null)}pa(){if(!this.el)return;const{player:t,$state:e}=this.a,s=this.el.offsetWidth,i=this.el.offsetHeight;t&&(e.mediaWidth.set(s),e.mediaHeight.set(i),t.el&&(B(t.el,"--media-width",s+"px"),B(t.el,"--media-height",i+"px")))}Gc(){const t=[],e=[],s=this.el.children;for(const i of s)if(!i.hasAttribute("data-vds")){if(i instanceof HTMLSourceElement){const a={id:i.id,src:i.src,type:i.type};for(const r of["id","src","width","height","bitrate","codec"]){const o=i.getAttribute(`data-${r}`);P(o)&&(a[r]=/id|src|codec/.test(r)?o:Number(o))}t.push(a)}else if(i instanceof HTMLTrackElement){const a={src:i.src,kind:i.track.kind,language:i.srclang,label:i.label,default:i.default,type:i.getAttribute("data-type")};e.push({id:i.id||Y.createId(a),...a})}}this.wd.set(t),this.xd.set(e),N()}};it.props={loaders:[]},it.state=new Jt({loader:null});let Z=it;Hs([q],Z.prototype,"load");const qt=class qt extends re(HTMLElement,Z){constructor(){super(...arguments),this.G=null,this.Xm=null}onSetup(){this.a=se(),this.setAttribute("keep-alive","")}onDestroy(){var t,e;(t=this.Xm)==null||t.remove(),this.Xm=null,(e=this.G)==null||e.remove(),this.G=null}onConnect(){u(()=>{var o,h,c;const t=this.$state.loader(),e=(t==null?void 0:t.name)==="youtube",s=(t==null?void 0:t.name)==="vimeo",i=e||s,a=(t==null?void 0:t.name)==="google-cast",r=t?a?this.kn():i?this.ln():t.mediaType()==="audio"?this.mn():this.an():null;if(this.G!==r){const l=((o=this.G)==null?void 0:o.parentElement)??this;(h=this.G)==null||h.remove(),this.G=r,r&&l.prepend(r),i&&r&&u(()=>{var M;const{nativeControls:p,viewType:g}=this.a.$state,b=p(),T=g()==="audio";!b&&!T?(this.Xm=this.querySelector(".vds-blocker"),this.Xm||(this.Xm=document.createElement("div"),this.Xm.classList.add("vds-blocker"),r.after(this.Xm))):((M=this.Xm)==null||M.remove(),this.Xm=null),v(r,"data-no-controls",!b)})}e?r==null||r.classList.add("vds-youtube"):s&&(r==null||r.classList.add("vds-vimeo")),i||((c=this.Xm)==null||c.remove(),this.Xm=null),this.load(r)})}mn(){const t=this.G instanceof HTMLAudioElement?this.G:document.createElement("audio");v(t,"preload","none"),v(t,"aria-hidden","true");const{controls:e,crossOrigin:s}=this.a.$state;return u(()=>{v(t,"controls",e()),v(t,"crossorigin",s())}),t}an(){const t=this.G instanceof HTMLVideoElement?this.G:document.createElement("video"),{crossOrigin:e,poster:s,nativeControls:i}=this.a.$state,a=X(()=>i()?"true":null),r=X(()=>s()&&i()?s():null);return u(()=>{v(t,"controls",a()),v(t,"crossorigin",e()),v(t,"poster",r())}),t}ln(){const t=this.G instanceof HTMLIFrameElement?this.G:document.createElement("iframe"),{nativeControls:e}=this.a.$state;return u(()=>v(t,"tabindex",e()?null:-1)),t}kn(){var e;if((e=this.G)!=null&&e.classList.contains("vds-google-cast"))return this.G;const t=document.createElement("div");return t.classList.add("vds-google-cast"),I(()=>import("./vidstack-BmG4eXX--DDObzXvb.js"),__vite__mapDeps([15,1])).then(({insertContent:s})=>{s(t,this.a.$state)}),t}};qt.tagName="media-provider";let Tt=qt;const at=class at extends re(HTMLElement,Is){};at.tagName="media-player",at.attrs={autoPlay:"autoplay",crossOrigin:"crossorigin",playsInline:"playsinline",preferNativeHLS:"prefer-native-hls",minLiveDVRWindow:"min-live-dvr-window"};let wt=at;ne(wt);ne(Tt);const Ws=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));export{f as L,A as Q,U as T,Ws as v};
